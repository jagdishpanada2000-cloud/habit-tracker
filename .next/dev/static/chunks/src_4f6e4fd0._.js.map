{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/Jagdish/projects/habit-focus-main/src/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\";\nimport { Slot } from \"@radix-ui/react-slot\";\nimport { cva, type VariantProps } from \"class-variance-authority\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n        destructive: \"bg-destructive text-destructive-foreground hover:bg-destructive/90\",\n        outline: \"border border-input bg-background hover:bg-accent hover:text-accent-foreground\",\n        secondary: \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-10 px-4 py-2\",\n        sm: \"h-9 rounded-md px-3\",\n        lg: \"h-11 rounded-md px-8\",\n        icon: \"h-10 w-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  },\n);\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean;\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\";\n    return <Comp className={cn(buttonVariants({ variant, size, className }))} ref={ref} {...props} />;\n  },\n);\nButton.displayName = \"Button\";\n\nexport { Button, buttonVariants };\n"],"names":[],"mappings":";;;;;;;AAAA;AACA;AACA;AAEA;;;;;;AAEA,MAAM,iBAAiB,IAAA,0KAAG,EACxB,4VACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aAAa;YACb,SAAS;YACT,WAAW;YACX,OAAO;YACP,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AASF,MAAM,uBAAS,2KAAgB,MAC7B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,UAAU,KAAK,EAAE,GAAG,OAAO,EAAE;IACxD,MAAM,OAAO,UAAU,2KAAI,GAAG;IAC9B,qBAAO,6LAAC;QAAK,WAAW,IAAA,4HAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QAAK,KAAK;QAAM,GAAG,KAAK;;;;;;AAC/F;;AAEF,OAAO,WAAW,GAAG"}},
    {"offset": {"line": 71, "column": 0}, "map": {"version":3,"sources":["file:///D:/Jagdish/projects/habit-focus-main/src/lib/supabase.ts"],"sourcesContent":["\r\nimport { createClient } from '@supabase/supabase-js';\r\n\r\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL;\r\nconst supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY;\r\n\r\nif (!supabaseUrl || !supabaseAnonKey) {\r\n    if (typeof window !== 'undefined') {\r\n        console.warn('Supabase URL or Anon Key is missing. Please check your .env file.');\r\n    }\r\n}\r\n\r\nexport const supabase = createClient(\r\n    supabaseUrl || '',\r\n    supabaseAnonKey || ''\r\n);\r\n"],"names":[],"mappings":";;;;AAGoB;AAFpB;;AAEA,MAAM;AACN,MAAM;AAEN;;AAMO,MAAM,WAAW,IAAA,iMAAY,EAChC,eAAe,IACf,mBAAmB"}},
    {"offset": {"line": 90, "column": 0}, "map": {"version":3,"sources":["file:///D:/Jagdish/projects/habit-focus-main/src/components/ui/dropdown-menu.tsx"],"sourcesContent":["import * as React from \"react\";\nimport * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\";\nimport { Check, ChevronRight, Circle } from \"lucide-react\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst DropdownMenu = DropdownMenuPrimitive.Root;\n\nconst DropdownMenuTrigger = DropdownMenuPrimitive.Trigger;\n\nconst DropdownMenuGroup = DropdownMenuPrimitive.Group;\n\nconst DropdownMenuPortal = DropdownMenuPrimitive.Portal;\n\nconst DropdownMenuSub = DropdownMenuPrimitive.Sub;\n\nconst DropdownMenuRadioGroup = DropdownMenuPrimitive.RadioGroup;\n\nconst DropdownMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubTrigger> & {\n    inset?: boolean;\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent\",\n      inset && \"pl-8\",\n      className,\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto h-4 w-4\" />\n  </DropdownMenuPrimitive.SubTrigger>\n));\nDropdownMenuSubTrigger.displayName = DropdownMenuPrimitive.SubTrigger.displayName;\n\nconst DropdownMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n      className,\n    )}\n    {...props}\n  />\n));\nDropdownMenuSubContent.displayName = DropdownMenuPrimitive.SubContent.displayName;\n\nconst DropdownMenuContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <DropdownMenuPrimitive.Portal>\n    <DropdownMenuPrimitive.Content\n      ref={ref}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        className,\n      )}\n      {...props}\n    />\n  </DropdownMenuPrimitive.Portal>\n));\nDropdownMenuContent.displayName = DropdownMenuPrimitive.Content.displayName;\n\nconst DropdownMenuItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Item> & {\n    inset?: boolean;\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground\",\n      inset && \"pl-8\",\n      className,\n    )}\n    {...props}\n  />\n));\nDropdownMenuItem.displayName = DropdownMenuPrimitive.Item.displayName;\n\nconst DropdownMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <DropdownMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground\",\n      className,\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.CheckboxItem>\n));\nDropdownMenuCheckboxItem.displayName = DropdownMenuPrimitive.CheckboxItem.displayName;\n\nconst DropdownMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground\",\n      className,\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.RadioItem>\n));\nDropdownMenuRadioItem.displayName = DropdownMenuPrimitive.RadioItem.displayName;\n\nconst DropdownMenuLabel = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Label> & {\n    inset?: boolean;\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Label\n    ref={ref}\n    className={cn(\"px-2 py-1.5 text-sm font-semibold\", inset && \"pl-8\", className)}\n    {...props}\n  />\n));\nDropdownMenuLabel.displayName = DropdownMenuPrimitive.Label.displayName;\n\nconst DropdownMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.Separator ref={ref} className={cn(\"-mx-1 my-1 h-px bg-muted\", className)} {...props} />\n));\nDropdownMenuSeparator.displayName = DropdownMenuPrimitive.Separator.displayName;\n\nconst DropdownMenuShortcut = ({ className, ...props }: React.HTMLAttributes<HTMLSpanElement>) => {\n  return <span className={cn(\"ml-auto text-xs tracking-widest opacity-60\", className)} {...props} />;\n};\nDropdownMenuShortcut.displayName = \"DropdownMenuShortcut\";\n\nexport {\n  DropdownMenu,\n  DropdownMenuTrigger,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuCheckboxItem,\n  DropdownMenuRadioItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuShortcut,\n  DropdownMenuGroup,\n  DropdownMenuPortal,\n  DropdownMenuSub,\n  DropdownMenuSubContent,\n  DropdownMenuSubTrigger,\n  DropdownMenuRadioGroup,\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 330, "column": 0}, "map": {"version":3,"sources":["file:///D:/Jagdish/projects/habit-focus-main/src/components/layout/TopBar.tsx"],"sourcesContent":["import { ChevronLeft, ChevronRight, Crown, User, LogOut } from 'lucide-react';\nimport { Button } from '@/components/ui/button';\nimport { supabase } from '@/lib/supabase';\nimport { toast } from 'sonner';\nimport { cn } from '@/lib/utils';\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuTrigger,\n} from \"@/components/ui/dropdown-menu\";\n\ninterface TopBarProps {\n  currentMonth: Date;\n  onPrevMonth: () => void;\n  onNextMonth: () => void;\n  canPrev?: boolean;\n  canNext?: boolean;\n}\n\nexport const TopBar = ({ currentMonth, onPrevMonth, onNextMonth, canPrev = true, canNext = true }: TopBarProps) => {\n  const monthYear = currentMonth.toLocaleDateString('en-US', {\n    month: 'long',\n    year: 'numeric',\n  });\n\n  const handleSignOut = async () => {\n    try {\n      const { error } = await supabase.auth.signOut();\n      if (error) throw error;\n      toast.success('Signed out successfully');\n    } catch (error: any) {\n      toast.error(error.message || 'Error signing out');\n    }\n  };\n\n  return (\n    <header className=\"fixed top-0 left-0 right-0 z-40 flex items-center justify-between px-3 py-4 lg:px-8 bg-black/40 backdrop-blur-md border-b border-white/5\">\n      <div className=\"flex items-center gap-2.5 shrink-0\">\n        <div className=\"w-9 h-9 rounded-xl bg-primary/10 flex items-center justify-center ring-1 ring-primary/20 text-primary\">\n          <div className=\"w-3.5 h-3.5 rounded-sm bg-primary shadow-[0_0_10px_hsl(var(--primary)/0.5)]\" />\n        </div>\n        <span className=\"font-bold text-xl tracking-tight hidden sm:block\">Momentum</span>\n      </div>\n\n      <div className=\"flex items-center bg-accent/20 rounded-2xl p-0.5 border border-white/5 shadow-inner\">\n        <Button\n          variant=\"ghost\"\n          size=\"icon\"\n          onClick={onPrevMonth}\n          disabled={!canPrev}\n          className={cn(\n            \"h-9 w-9 rounded-2xl text-muted-foreground/60 hover:text-foreground transition-all active:scale-90\",\n            !canPrev && \"opacity-10 cursor-not-allowed\"\n          )}\n        >\n          <ChevronLeft className=\"w-5 h-5\" />\n        </Button>\n        <span className=\"text-xs sm:text-sm font-bold px-4 min-w-[110px] sm:min-w-[150px] text-center select-none truncate text-foreground/80 tracking-wide\">\n          {monthYear.toUpperCase()}\n        </span>\n        <Button\n          variant=\"ghost\"\n          size=\"icon\"\n          onClick={onNextMonth}\n          disabled={!canNext}\n          className={cn(\n            \"h-9 w-9 rounded-2xl text-muted-foreground/60 hover:text-foreground transition-all active:scale-90\",\n            !canNext && \"opacity-10 cursor-not-allowed\"\n          )}\n        >\n          <ChevronRight className=\"w-5 h-5\" />\n        </Button>\n      </div>\n\n      <div className=\"flex items-center gap-2.5 shrink-0\">\n        <Button\n          variant=\"ghost\"\n          size=\"sm\"\n          className=\"hidden sm:flex items-center gap-2 text-primary font-bold hover:bg-primary/5 rounded-xl border border-primary/10 px-4\"\n        >\n          <Crown className=\"w-4 h-4 fill-primary/10\" />\n          <span>PRO</span>\n        </Button>\n\n        <DropdownMenu>\n          <DropdownMenuTrigger asChild>\n            <Button\n              variant=\"ghost\"\n              size=\"icon\"\n              className=\"h-10 w-10 rounded-2xl bg-accent/40 hover:bg-accent/60 border border-white/5 transition-all active:scale-95 shadow-lg\"\n            >\n              <User className=\"w-5 h-5 text-muted-foreground/80\" />\n            </Button>\n          </DropdownMenuTrigger>\n          <DropdownMenuContent align=\"end\" className=\"w-48 p-2 rounded-2xl border-white/10 bg-card/95 backdrop-blur-xl\">\n            <DropdownMenuItem onClick={handleSignOut} className=\"text-destructive focus:text-destructive focus:bg-destructive/10 rounded-xl py-3 gap-3 font-semibold\">\n              <LogOut className=\"w-4 h-4\" />\n              Sign out\n            </DropdownMenuItem>\n          </DropdownMenuContent>\n        </DropdownMenu>\n      </div>\n    </header>\n  );\n};\n"],"names":[],"mappings":";;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AAeO,MAAM,SAAS,CAAC,EAAE,YAAY,EAAE,WAAW,EAAE,WAAW,EAAE,UAAU,IAAI,EAAE,UAAU,IAAI,EAAe;IAC5G,MAAM,YAAY,aAAa,kBAAkB,CAAC,SAAS;QACzD,OAAO;QACP,MAAM;IACR;IAEA,MAAM,gBAAgB;QACpB,IAAI;YACF,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,qIAAQ,CAAC,IAAI,CAAC,OAAO;YAC7C,IAAI,OAAO,MAAM;YACjB,oJAAK,CAAC,OAAO,CAAC;QAChB,EAAE,OAAO,OAAY;YACnB,oJAAK,CAAC,KAAK,CAAC,MAAM,OAAO,IAAI;QAC/B;IACF;IAEA,qBACE,6LAAC;QAAO,WAAU;;0BAChB,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAI,WAAU;kCACb,cAAA,6LAAC;4BAAI,WAAU;;;;;;;;;;;kCAEjB,6LAAC;wBAAK,WAAU;kCAAmD;;;;;;;;;;;;0BAGrE,6LAAC;gBAAI,WAAU;;kCACb,6LAAC,+IAAM;wBACL,SAAQ;wBACR,MAAK;wBACL,SAAS;wBACT,UAAU,CAAC;wBACX,WAAW,IAAA,4HAAE,EACX,qGACA,CAAC,WAAW;kCAGd,cAAA,6LAAC,sOAAW;4BAAC,WAAU;;;;;;;;;;;kCAEzB,6LAAC;wBAAK,WAAU;kCACb,UAAU,WAAW;;;;;;kCAExB,6LAAC,+IAAM;wBACL,SAAQ;wBACR,MAAK;wBACL,SAAS;wBACT,UAAU,CAAC;wBACX,WAAW,IAAA,4HAAE,EACX,qGACA,CAAC,WAAW;kCAGd,cAAA,6LAAC,yOAAY;4BAAC,WAAU;;;;;;;;;;;;;;;;;0BAI5B,6LAAC;gBAAI,WAAU;;kCACb,6LAAC,+IAAM;wBACL,SAAQ;wBACR,MAAK;wBACL,WAAU;;0CAEV,6LAAC,gNAAK;gCAAC,WAAU;;;;;;0CACjB,6LAAC;0CAAK;;;;;;;;;;;;kCAGR,6LAAC,+JAAY;;0CACX,6LAAC,sKAAmB;gCAAC,OAAO;0CAC1B,cAAA,6LAAC,+IAAM;oCACL,SAAQ;oCACR,MAAK;oCACL,WAAU;8CAEV,cAAA,6LAAC,6MAAI;wCAAC,WAAU;;;;;;;;;;;;;;;;0CAGpB,6LAAC,sKAAmB;gCAAC,OAAM;gCAAM,WAAU;0CACzC,cAAA,6LAAC,mKAAgB;oCAAC,SAAS;oCAAe,WAAU;;sDAClD,6LAAC,uNAAM;4CAAC,WAAU;;;;;;wCAAY;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQ5C;KArFa"}},
    {"offset": {"line": 561, "column": 0}, "map": {"version":3,"sources":["file:///D:/Jagdish/projects/habit-focus-main/src/components/layout/Sidebar.tsx"],"sourcesContent":["import { LayoutDashboard, ListChecks, BarChart3, Sparkles, Settings } from 'lucide-react';\nimport { cn } from '@/lib/utils';\n\ninterface NavItem {\n  id: string;\n  label: string;\n  icon: React.ElementType;\n  locked?: boolean;\n}\n\nconst navItems: NavItem[] = [\n  { id: 'dashboard', label: 'Dashboard', icon: LayoutDashboard },\n  { id: 'habits', label: 'Habits', icon: ListChecks },\n  { id: 'analytics', label: 'Analytics', icon: BarChart3 },\n  { id: 'ai-coach', label: 'AI Coach', icon: Sparkles, locked: true },\n  { id: 'settings', label: 'Settings', icon: Settings },\n];\n\ninterface SidebarProps {\n  activeTab: string;\n  onTabChange: (tab: string) => void;\n}\n\nexport const Sidebar = ({ activeTab, onTabChange }: SidebarProps) => {\n  return (\n    <aside className=\"hidden lg:flex flex-col w-56 min-h-screen bg-card/20 backdrop-blur-xl border-r border-white/5 p-4 relative z-10\">\n      <nav className=\"flex-1 space-y-1 mt-4\">\n        {navItems.map((item) => (\n          <button\n            key={item.id}\n            onClick={() => onTabChange(item.id)}\n            className={cn(\n              'nav-item w-full',\n              activeTab === item.id && 'nav-item-active'\n            )}\n          >\n            <item.icon className=\"w-5 h-5\" />\n            <span className=\"text-sm font-medium\">{item.label}</span>\n            {item.locked && (\n              <span className=\"ml-auto text-[8px] font-black px-1.5 py-0.5 rounded bg-secondary/20 text-secondary animate-pulse\">\n                SOON\n              </span>\n            )}\n          </button>\n        ))}\n      </nav>\n    </aside>\n  );\n};\n"],"names":[],"mappings":";;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;;;AASA,MAAM,WAAsB;IAC1B;QAAE,IAAI;QAAa,OAAO;QAAa,MAAM,kPAAe;IAAC;IAC7D;QAAE,IAAI;QAAU,OAAO;QAAU,MAAM,mOAAU;IAAC;IAClD;QAAE,IAAI;QAAa,OAAO;QAAa,MAAM,kOAAS;IAAC;IACvD;QAAE,IAAI;QAAY,OAAO;QAAY,MAAM,yNAAQ;QAAE,QAAQ;IAAK;IAClE;QAAE,IAAI;QAAY,OAAO;QAAY,MAAM,yNAAQ;IAAC;CACrD;AAOM,MAAM,UAAU,CAAC,EAAE,SAAS,EAAE,WAAW,EAAgB;IAC9D,qBACE,6LAAC;QAAM,WAAU;kBACf,cAAA,6LAAC;YAAI,WAAU;sBACZ,SAAS,GAAG,CAAC,CAAC,qBACb,6LAAC;oBAEC,SAAS,IAAM,YAAY,KAAK,EAAE;oBAClC,WAAW,IAAA,4HAAE,EACX,mBACA,cAAc,KAAK,EAAE,IAAI;;sCAG3B,6LAAC,KAAK,IAAI;4BAAC,WAAU;;;;;;sCACrB,6LAAC;4BAAK,WAAU;sCAAuB,KAAK,KAAK;;;;;;wBAChD,KAAK,MAAM,kBACV,6LAAC;4BAAK,WAAU;sCAAmG;;;;;;;mBAVhH,KAAK,EAAE;;;;;;;;;;;;;;;AAmBxB;KAzBa"}},
    {"offset": {"line": 662, "column": 0}, "map": {"version":3,"sources":["file:///D:/Jagdish/projects/habit-focus-main/src/components/layout/BottomNav.tsx"],"sourcesContent":["import { LayoutDashboard, ListChecks, BarChart3, Sparkles, Settings } from 'lucide-react';\nimport { cn } from '@/lib/utils';\n\ninterface NavItem {\n  id: string;\n  label: string;\n  icon: React.ElementType;\n  locked?: boolean;\n}\n\nconst navItems: NavItem[] = [\n  { id: 'dashboard', label: 'Home', icon: LayoutDashboard },\n  { id: 'habits', label: 'Habits', icon: ListChecks },\n  { id: 'analytics', label: 'Stats', icon: BarChart3 },\n  { id: 'ai-coach', label: 'AI (Soon)', icon: Sparkles, locked: true },\n  { id: 'settings', label: 'Settings', icon: Settings },\n];\n\ninterface BottomNavProps {\n  activeTab: string;\n  onTabChange: (tab: string) => void;\n}\n\nexport const BottomNav = ({ activeTab, onTabChange }: BottomNavProps) => {\n  return (\n    <nav className=\"lg:hidden fixed bottom-0 left-0 right-0 z-50 bg-black/30 backdrop-blur-xl border-t border-white/5 px-4 pt-3 safe-area-pb shadow-[0_-8px_20px_rgba(0,0,0,0.3)]\">\n      <div className=\"flex items-center justify-around max-w-md mx-auto\">\n        {navItems.map((item) => {\n          const isActive = activeTab === item.id;\n          return (\n            <button\n              key={item.id}\n              onClick={() => onTabChange(item.id)}\n              className={cn(\n                'flex flex-col items-center gap-1.5 px-4 py-2 rounded-2xl transition-all duration-300 active:scale-90 relative',\n                isActive ? 'text-primary' : 'text-muted-foreground/60 hover:text-muted-foreground'\n              )}\n            >\n              <div className={cn(\n                \"p-1.5 rounded-xl transition-all duration-300\",\n                isActive ? \"bg-primary/10 shadow-[0_0_15px_hsl(var(--primary)/0.1)]\" : \"bg-transparent\"\n              )}>\n                <div className=\"relative\">\n                  <item.icon className={cn(\"w-6 h-6 transition-all duration-300\", isActive ? \"scale-110\" : \"scale-100\")} strokeWidth={isActive ? 2.5 : 2} />\n                  {item.locked && (\n                    <span className=\"absolute -top-0.5 -right-0.5 w-2.5 h-2.5 rounded-full bg-secondary border-2 border-background\" />\n                  )}\n                </div>\n              </div>\n              <span className={cn(\n                \"text-[10px] font-bold tracking-widest uppercase transition-all duration-300\",\n                isActive ? \"opacity-100 translate-y-0\" : \"opacity-40 translate-y-0.5\"\n              )}>\n                {item.label}\n              </span>\n            </button>\n          );\n        })}\n      </div>\n    </nav>\n  );\n};\n"],"names":[],"mappings":";;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;;;AASA,MAAM,WAAsB;IAC1B;QAAE,IAAI;QAAa,OAAO;QAAQ,MAAM,kPAAe;IAAC;IACxD;QAAE,IAAI;QAAU,OAAO;QAAU,MAAM,mOAAU;IAAC;IAClD;QAAE,IAAI;QAAa,OAAO;QAAS,MAAM,kOAAS;IAAC;IACnD;QAAE,IAAI;QAAY,OAAO;QAAa,MAAM,yNAAQ;QAAE,QAAQ;IAAK;IACnE;QAAE,IAAI;QAAY,OAAO;QAAY,MAAM,yNAAQ;IAAC;CACrD;AAOM,MAAM,YAAY,CAAC,EAAE,SAAS,EAAE,WAAW,EAAkB;IAClE,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC;YAAI,WAAU;sBACZ,SAAS,GAAG,CAAC,CAAC;gBACb,MAAM,WAAW,cAAc,KAAK,EAAE;gBACtC,qBACE,6LAAC;oBAEC,SAAS,IAAM,YAAY,KAAK,EAAE;oBAClC,WAAW,IAAA,4HAAE,EACX,iHACA,WAAW,iBAAiB;;sCAG9B,6LAAC;4BAAI,WAAW,IAAA,4HAAE,EAChB,gDACA,WAAW,4DAA4D;sCAEvE,cAAA,6LAAC;gCAAI,WAAU;;kDACb,6LAAC,KAAK,IAAI;wCAAC,WAAW,IAAA,4HAAE,EAAC,uCAAuC,WAAW,cAAc;wCAAc,aAAa,WAAW,MAAM;;;;;;oCACpI,KAAK,MAAM,kBACV,6LAAC;wCAAK,WAAU;;;;;;;;;;;;;;;;;sCAItB,6LAAC;4BAAK,WAAW,IAAA,4HAAE,EACjB,+EACA,WAAW,8BAA8B;sCAExC,KAAK,KAAK;;;;;;;mBAtBR,KAAK,EAAE;;;;;YA0BlB;;;;;;;;;;;AAIR;KAtCa"}},
    {"offset": {"line": 782, "column": 0}, "map": {"version":3,"sources":["file:///D:/Jagdish/projects/habit-focus-main/src/services/habits.ts"],"sourcesContent":["\nimport { supabase } from '@/lib/supabase';\nimport { logService } from './logs';\n\nexport interface Habit {\n    id: string;\n    user_id: string;\n    name: string;\n    description: string | null;\n    icon: string | null;\n    color: string;\n    frequency: 'daily' | 'weekly';\n    days_of_week: number[];\n    target_days: number;\n    archived: boolean;\n    created_at: string;\n    completed_count: number;\n    missed_count: number;\n    current_streak: number;\n    highest_streak: number;\n    highest_miss_streak: number;\n    last_updated_date: string | null;\n}\n\nexport interface CreateHabitDTO {\n    name: string;\n    description?: string;\n    icon?: string;\n    color?: string;\n    frequency?: 'daily' | 'weekly';\n    days_of_week?: number[];\n    target_days?: number;\n}\n\nexport const habitService = {\n    async getHabits(): Promise<Habit[]> {\n        const { data, error } = await supabase\n            .from('habits')\n            .select('*')\n            .eq('archived', false)\n            .order('created_at', { ascending: true });\n\n        if (error) {\n            console.error('getHabits error:', error);\n            throw error;\n        }\n        return (data || []) as Habit[];\n    },\n\n    async createHabit(habit: CreateHabitDTO): Promise<Habit> {\n        const { data: { user } } = await supabase.auth.getUser();\n        if (!user) throw new Error('User not authenticated');\n\n        const { data, error } = await supabase\n            .from('habits')\n            .insert({\n                ...habit,\n                user_id: user.id\n            })\n            .select()\n            .single();\n\n        if (error) throw error;\n        await this.refreshHabitStats(data.id);\n        return data as Habit;\n    },\n\n    async updateHabit(id: string, updates: Partial<Habit>): Promise<Habit> {\n        const { data, error } = await supabase\n            .from('habits')\n            .update(updates)\n            .eq('id', id)\n            .select()\n            .single();\n\n        if (error) throw error;\n        if (updates.days_of_week) {\n            await this.refreshHabitStats(id);\n        }\n        return data as Habit;\n    },\n\n    async refreshHabitStats(habitId: string): Promise<void> {\n        const { data: habit, error: habitError } = await supabase\n            .from('habits')\n            .select('*')\n            .eq('id', habitId)\n            .maybeSingle();\n\n        if (habitError || !habit) {\n            if (habitError) console.error(`Error fetching habit ${habitId}:`, habitError);\n            return;\n        }\n\n        const typedHabit = habit as Habit;\n        const now = new Date();\n        const toLocalStr = (d: Date) => {\n            const y = d.getFullYear();\n            const m = String(d.getMonth() + 1).padStart(2, '0');\n            const day = String(d.getDate()).padStart(2, '0');\n            return `${y}-${m}-${day}`;\n        };\n\n        const todayStr = toLocalStr(now);\n        \n        // Fetch all logs for this habit\n        const { data: logs, error: logsError } = await supabase\n            .from('habit_logs')\n            .select('completed_date')\n            .eq('habit_id', habitId);\n\n        if (logsError) return;\n\n        const habitLogs = logs.map(l => l.completed_date);\n        const schedule = typedHabit.days_of_week || [0, 1, 2, 3, 4, 5, 6];\n        \n        let completedCount = habitLogs.length;\n        let missedCount = 0;\n        let currentStreak = 0;\n\n        // Calculate missed days from creation till yesterday\n        const startDate = new Date(typedHabit.created_at);\n        startDate.setHours(0, 0, 0, 0);\n        const yesterday = new Date(now);\n        yesterday.setDate(yesterday.getDate() - 1);\n        yesterday.setHours(0, 0, 0, 0);\n\n        let checkDate = new Date(startDate);\n        while (checkDate <= yesterday) {\n            const dateStr = toLocalStr(checkDate);\n            if (schedule.includes(checkDate.getDay())) {\n                if (!habitLogs.includes(dateStr)) {\n                    missedCount++;\n                }\n            }\n            checkDate.setDate(checkDate.getDate() + 1);\n        }\n\n        // Calculate current streak\n        let streakCheckDate = new Date(now);\n        streakCheckDate.setHours(0, 0, 0, 0);\n\n        // Find most recent scheduled day\n        while (!schedule.includes(streakCheckDate.getDay()) && streakCheckDate >= startDate) {\n            streakCheckDate.setDate(streakCheckDate.getDate() - 1);\n        }\n\n        while (streakCheckDate >= startDate) {\n            const dateStr = toLocalStr(streakCheckDate);\n            if (habitLogs.includes(dateStr)) {\n                currentStreak++;\n                // Move to previous scheduled day\n                do {\n                    streakCheckDate.setDate(streakCheckDate.getDate() - 1);\n                } while (!schedule.includes(streakCheckDate.getDay()) && streakCheckDate >= startDate);\n            } else {\n                // If it's today, streak might still be alive from yesterday\n                if (dateStr === todayStr) {\n                    do {\n                        streakCheckDate.setDate(streakCheckDate.getDate() - 1);\n                    } while (!schedule.includes(streakCheckDate.getDay()) && streakCheckDate >= startDate);\n                    \n                    const prevDateStr = toLocalStr(streakCheckDate);\n                    if (habitLogs.includes(prevDateStr)) {\n                        continue; // Streak alive\n                    } else {\n                        break;\n                    }\n                } else {\n                    break;\n                }\n            }\n        }\n\n        // Calculate all-time high stats\n        let highestStreak = 0;\n        let runningStreak = 0;\n        let highestMissStreak = 0;\n        let runningMissStreak = 0;\n\n        let scanDate = new Date(startDate);\n        // Start from start date and go up to today\n        while (toLocalStr(scanDate) <= todayStr) {\n            const dateStr = toLocalStr(scanDate);\n            if (schedule.includes(scanDate.getDay())) {\n                if (habitLogs.includes(dateStr)) {\n                    runningStreak++;\n                    highestStreak = Math.max(highestStreak, runningStreak);\n                    runningMissStreak = 0;\n                } else {\n                    runningStreak = 0;\n                    // Only count as a miss if it's before today\n                    if (dateStr !== todayStr) {\n                        runningMissStreak++;\n                        highestMissStreak = Math.max(highestMissStreak, runningMissStreak);\n                    }\n                }\n            }\n            scanDate.setDate(scanDate.getDate() + 1);\n        }\n\n        const { error: updateError } = await supabase\n            .from('habits')\n            .update({\n                completed_count: completedCount,\n                missed_count: missedCount,\n                current_streak: currentStreak,\n                highest_streak: highestStreak,\n                highest_miss_streak: highestMissStreak,\n                last_updated_date: todayStr\n            })\n            .eq('id', habitId);\n\n        if (updateError) {\n            console.error(`Error updating stats for ${habitId}:`, updateError);\n        } else {\n            console.log(`Updated stats for ${typedHabit.name}: HS:${highestStreak}, HMS:${highestMissStreak}`);\n        }\n    },\n\n    async archiveHabit(id: string): Promise<void> {\n        const { error } = await supabase\n            .from('habits')\n            .update({ archived: true })\n            .eq('id', id);\n\n        if (error) throw error;\n    },\n\n    async deleteHabit(id: string): Promise<void> {\n        const { error } = await supabase\n            .from('habits')\n            .delete()\n            .eq('id', id);\n\n        if (error) throw error;\n    }\n};"],"names":[],"mappings":"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"}},
    {"offset": {"line": 954, "column": 0}, "map": {"version":3,"sources":["file:///D:/Jagdish/projects/habit-focus-main/src/services/logs.ts"],"sourcesContent":["\r\nimport { supabase } from '@/lib/supabase';\r\nimport { habitService } from './habits';\r\n\r\nexport interface HabitLog {\r\n    id: string;\r\n    habit_id: string;\r\n    user_id: string;\r\n    completed_date: string; // YYYY-MM-DD\r\n    created_at: string;\r\n}\r\n\r\nexport const logService = {\r\n    // Get logs for a specific date range\r\n    async getLogs(startDate: Date, endDate: Date): Promise<HabitLog[]> {\r\n        // Use local date strings to match calendar selection\r\n        const toLocalISO = (d: Date) => {\r\n            const year = d.getFullYear();\r\n            const month = String(d.getMonth() + 1).padStart(2, '0');\r\n            const day = String(d.getDate()).padStart(2, '0');\r\n            return `${year}-${month}-${day}`;\r\n        };\r\n\r\n        const startStr = toLocalISO(startDate);\r\n        const endStr = toLocalISO(endDate);\r\n\r\n        const { data, error } = await supabase\r\n            .from('habit_logs')\r\n            .select('*')\r\n            .gte('completed_date', startStr)\r\n            .lte('completed_date', endStr);\r\n\r\n        if (error) {\r\n            console.error('getLogs error:', error);\r\n            throw error;\r\n        }\r\n        return (data || []) as HabitLog[];\r\n    },\r\n\r\n    // Toggle completion for a habit on a specific date\r\n    async toggleCompletion(habitId: string, date: Date): Promise<boolean> {\r\n        // Construct YYYY-MM-DD from local time to avoid UTC shifts\r\n        const year = date.getFullYear();\r\n        const month = String(date.getMonth() + 1).padStart(2, '0');\r\n        const day = String(date.getDate()).padStart(2, '0');\r\n        const dateStr = `${year}-${month}-${day}`;\r\n\r\n        const { data: { user } } = await supabase.auth.getUser();\r\n        if (!user) throw new Error('User not authenticated');\r\n\r\n        // Check if exists\r\n        const { data: existing, error: fetchError } = await supabase\r\n            .from('habit_logs')\r\n            .select('id')\r\n            .eq('habit_id', habitId)\r\n            .eq('completed_date', dateStr)\r\n            .maybeSingle();\r\n\r\n        if (fetchError) {\r\n            console.error('Error checking existing log:', fetchError);\r\n            throw fetchError;\r\n        }\r\n\r\n        if (existing) {\r\n            // Remove it (toggle off)\r\n            const { error: deleteError } = await supabase\r\n                .from('habit_logs')\r\n                .delete()\r\n                .eq('id', existing.id);\r\n\r\n            if (deleteError) {\r\n                console.error('Error deleting log:', deleteError);\r\n                throw deleteError;\r\n            }\r\n            await habitService.refreshHabitStats(habitId);\r\n            return false; // Not completed anymore\r\n        } else {\r\n            // Add it (toggle on)\r\n            const { error: insertError } = await supabase\r\n                .from('habit_logs')\r\n                .insert({\r\n                    habit_id: habitId,\r\n                    user_id: user.id,\r\n                    completed_date: dateStr\r\n                });\r\n\r\n            if (insertError) {\r\n                console.error('Error inserting log:', insertError);\r\n                throw insertError;\r\n            }\r\n            await habitService.refreshHabitStats(habitId);\r\n            return true; // Completed\r\n        }\r\n    }\r\n};\r\n"],"names":[],"mappings":";;;;AACA;AACA;;;AAUO,MAAM,aAAa;IACtB,qCAAqC;IACrC,MAAM,SAAQ,SAAe,EAAE,OAAa;QACxC,qDAAqD;QACrD,MAAM,aAAa,CAAC;YAChB,MAAM,OAAO,EAAE,WAAW;YAC1B,MAAM,QAAQ,OAAO,EAAE,QAAQ,KAAK,GAAG,QAAQ,CAAC,GAAG;YACnD,MAAM,MAAM,OAAO,EAAE,OAAO,IAAI,QAAQ,CAAC,GAAG;YAC5C,OAAO,GAAG,KAAK,CAAC,EAAE,MAAM,CAAC,EAAE,KAAK;QACpC;QAEA,MAAM,WAAW,WAAW;QAC5B,MAAM,SAAS,WAAW;QAE1B,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,qIAAQ,CACjC,IAAI,CAAC,cACL,MAAM,CAAC,KACP,GAAG,CAAC,kBAAkB,UACtB,GAAG,CAAC,kBAAkB;QAE3B,IAAI,OAAO;YACP,QAAQ,KAAK,CAAC,kBAAkB;YAChC,MAAM;QACV;QACA,OAAQ,QAAQ,EAAE;IACtB;IAEA,mDAAmD;IACnD,MAAM,kBAAiB,OAAe,EAAE,IAAU;QAC9C,2DAA2D;QAC3D,MAAM,OAAO,KAAK,WAAW;QAC7B,MAAM,QAAQ,OAAO,KAAK,QAAQ,KAAK,GAAG,QAAQ,CAAC,GAAG;QACtD,MAAM,MAAM,OAAO,KAAK,OAAO,IAAI,QAAQ,CAAC,GAAG;QAC/C,MAAM,UAAU,GAAG,KAAK,CAAC,EAAE,MAAM,CAAC,EAAE,KAAK;QAEzC,MAAM,EAAE,MAAM,EAAE,IAAI,EAAE,EAAE,GAAG,MAAM,qIAAQ,CAAC,IAAI,CAAC,OAAO;QACtD,IAAI,CAAC,MAAM,MAAM,IAAI,MAAM;QAE3B,kBAAkB;QAClB,MAAM,EAAE,MAAM,QAAQ,EAAE,OAAO,UAAU,EAAE,GAAG,MAAM,qIAAQ,CACvD,IAAI,CAAC,cACL,MAAM,CAAC,MACP,EAAE,CAAC,YAAY,SACf,EAAE,CAAC,kBAAkB,SACrB,WAAW;QAEhB,IAAI,YAAY;YACZ,QAAQ,KAAK,CAAC,gCAAgC;YAC9C,MAAM;QACV;QAEA,IAAI,UAAU;YACV,yBAAyB;YACzB,MAAM,EAAE,OAAO,WAAW,EAAE,GAAG,MAAM,qIAAQ,CACxC,IAAI,CAAC,cACL,MAAM,GACN,EAAE,CAAC,MAAM,SAAS,EAAE;YAEzB,IAAI,aAAa;gBACb,QAAQ,KAAK,CAAC,uBAAuB;gBACrC,MAAM;YACV;YACA,MAAM,4IAAY,CAAC,iBAAiB,CAAC;YACrC,OAAO,OAAO,wBAAwB;QAC1C,OAAO;YACH,qBAAqB;YACrB,MAAM,EAAE,OAAO,WAAW,EAAE,GAAG,MAAM,qIAAQ,CACxC,IAAI,CAAC,cACL,MAAM,CAAC;gBACJ,UAAU;gBACV,SAAS,KAAK,EAAE;gBAChB,gBAAgB;YACpB;YAEJ,IAAI,aAAa;gBACb,QAAQ,KAAK,CAAC,wBAAwB;gBACtC,MAAM;YACV;YACA,MAAM,4IAAY,CAAC,iBAAiB,CAAC;YACrC,OAAO,MAAM,YAAY;QAC7B;IACJ;AACJ"}},
    {"offset": {"line": 1028, "column": 0}, "map": {"version":3,"sources":["file:///D:/Jagdish/projects/habit-focus-main/src/components/ui/alert-dialog.tsx"],"sourcesContent":["import * as React from \"react\";\nimport * as AlertDialogPrimitive from \"@radix-ui/react-alert-dialog\";\n\nimport { cn } from \"@/lib/utils\";\nimport { buttonVariants } from \"@/components/ui/button\";\n\nconst AlertDialog = AlertDialogPrimitive.Root;\n\nconst AlertDialogTrigger = AlertDialogPrimitive.Trigger;\n\nconst AlertDialogPortal = AlertDialogPrimitive.Portal;\n\nconst AlertDialogOverlay = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className,\n    )}\n    {...props}\n    ref={ref}\n  />\n));\nAlertDialogOverlay.displayName = AlertDialogPrimitive.Overlay.displayName;\n\nconst AlertDialogContent = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPortal>\n    <AlertDialogOverlay />\n    <AlertDialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className,\n      )}\n      {...props}\n    />\n  </AlertDialogPortal>\n));\nAlertDialogContent.displayName = AlertDialogPrimitive.Content.displayName;\n\nconst AlertDialogHeader = ({ className, ...props }: React.HTMLAttributes<HTMLDivElement>) => (\n  <div className={cn(\"flex flex-col space-y-2 text-center sm:text-left\", className)} {...props} />\n);\nAlertDialogHeader.displayName = \"AlertDialogHeader\";\n\nconst AlertDialogFooter = ({ className, ...props }: React.HTMLAttributes<HTMLDivElement>) => (\n  <div className={cn(\"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\", className)} {...props} />\n);\nAlertDialogFooter.displayName = \"AlertDialogFooter\";\n\nconst AlertDialogTitle = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Title ref={ref} className={cn(\"text-lg font-semibold\", className)} {...props} />\n));\nAlertDialogTitle.displayName = AlertDialogPrimitive.Title.displayName;\n\nconst AlertDialogDescription = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Description ref={ref} className={cn(\"text-sm text-muted-foreground\", className)} {...props} />\n));\nAlertDialogDescription.displayName = AlertDialogPrimitive.Description.displayName;\n\nconst AlertDialogAction = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Action>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Action>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Action ref={ref} className={cn(buttonVariants(), className)} {...props} />\n));\nAlertDialogAction.displayName = AlertDialogPrimitive.Action.displayName;\n\nconst AlertDialogCancel = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Cancel>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Cancel>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Cancel\n    ref={ref}\n    className={cn(buttonVariants({ variant: \"outline\" }), \"mt-2 sm:mt-0\", className)}\n    {...props}\n  />\n));\nAlertDialogCancel.displayName = AlertDialogPrimitive.Cancel.displayName;\n\nexport {\n  AlertDialog,\n  AlertDialogPortal,\n  AlertDialogOverlay,\n  AlertDialogTrigger,\n  AlertDialogContent,\n  AlertDialogHeader,\n  AlertDialogFooter,\n  AlertDialogTitle,\n  AlertDialogDescription,\n  AlertDialogAction,\n  AlertDialogCancel,\n};\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AAEA;AACA;;;;;;AAEA,MAAM,cAAc,sLAAyB;AAE7C,MAAM,qBAAqB,yLAA4B;AAEvD,MAAM,oBAAoB,wLAA2B;AAErD,MAAM,mCAAqB,2KAAgB,CAGzC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,yLAA4B;QAC3B,WAAW,IAAA,4HAAE,EACX,0JACA;QAED,GAAG,KAAK;QACT,KAAK;;;;;;KAVH;AAaN,mBAAmB,WAAW,GAAG,yLAA4B,CAAC,WAAW;AAEzE,MAAM,mCAAqB,2KAAgB,OAGzC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;;0BACC,6LAAC;;;;;0BACD,6LAAC,yLAA4B;gBAC3B,KAAK;gBACL,WAAW,IAAA,4HAAE,EACX,+fACA;gBAED,GAAG,KAAK;;;;;;;;;;;;;AAIf,mBAAmB,WAAW,GAAG,yLAA4B,CAAC,WAAW;AAEzE,MAAM,oBAAoB,CAAC,EAAE,SAAS,EAAE,GAAG,OAA6C,iBACtF,6LAAC;QAAI,WAAW,IAAA,4HAAE,EAAC,oDAAoD;QAAa,GAAG,KAAK;;;;;;MADxF;AAGN,kBAAkB,WAAW,GAAG;AAEhC,MAAM,oBAAoB,CAAC,EAAE,SAAS,EAAE,GAAG,OAA6C,iBACtF,6LAAC;QAAI,WAAW,IAAA,4HAAE,EAAC,iEAAiE;QAAa,GAAG,KAAK;;;;;;MADrG;AAGN,kBAAkB,WAAW,GAAG;AAEhC,MAAM,iCAAmB,2KAAgB,OAGvC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,uLAA0B;QAAC,KAAK;QAAK,WAAW,IAAA,4HAAE,EAAC,yBAAyB;QAAa,GAAG,KAAK;;;;;;;AAEpG,iBAAiB,WAAW,GAAG,uLAA0B,CAAC,WAAW;AAErE,MAAM,uCAAyB,2KAAgB,OAG7C,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,6LAAgC;QAAC,KAAK;QAAK,WAAW,IAAA,4HAAE,EAAC,iCAAiC;QAAa,GAAG,KAAK;;;;;;;AAElH,uBAAuB,WAAW,GAAG,6LAAgC,CAAC,WAAW;AAEjF,MAAM,kCAAoB,2KAAgB,OAGxC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,wLAA2B;QAAC,KAAK;QAAK,WAAW,IAAA,4HAAE,EAAC,IAAA,uJAAc,KAAI;QAAa,GAAG,KAAK;;;;;;;AAE9F,kBAAkB,WAAW,GAAG,wLAA2B,CAAC,WAAW;AAEvE,MAAM,kCAAoB,2KAAgB,QAGxC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,wLAA2B;QAC1B,KAAK;QACL,WAAW,IAAA,4HAAE,EAAC,IAAA,uJAAc,EAAC;YAAE,SAAS;QAAU,IAAI,gBAAgB;QACrE,GAAG,KAAK;;;;;;;AAGb,kBAAkB,WAAW,GAAG,wLAA2B,CAAC,WAAW"}},
    {"offset": {"line": 1188, "column": 0}, "map": {"version":3,"sources":["file:///D:/Jagdish/projects/habit-focus-main/src/components/ui/dialog.tsx"],"sourcesContent":["import * as React from \"react\";\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\";\nimport { X } from \"lucide-react\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst Dialog = DialogPrimitive.Root;\n\nconst DialogTrigger = DialogPrimitive.Trigger;\n\nconst DialogPortal = DialogPrimitive.Portal;\n\nconst DialogClose = DialogPrimitive.Close;\n\nconst DialogOverlay = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Overlay\n    ref={ref}\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className,\n    )}\n    {...props}\n  />\n));\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName;\n\nconst DialogContent = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DialogPortal>\n    <DialogOverlay />\n    <DialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className,\n      )}\n      {...props}\n    >\n      {children}\n      <DialogPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </DialogPrimitive.Close>\n    </DialogPrimitive.Content>\n  </DialogPortal>\n));\nDialogContent.displayName = DialogPrimitive.Content.displayName;\n\nconst DialogHeader = ({ className, ...props }: React.HTMLAttributes<HTMLDivElement>) => (\n  <div className={cn(\"flex flex-col space-y-1.5 text-center sm:text-left\", className)} {...props} />\n);\nDialogHeader.displayName = \"DialogHeader\";\n\nconst DialogFooter = ({ className, ...props }: React.HTMLAttributes<HTMLDivElement>) => (\n  <div className={cn(\"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\", className)} {...props} />\n);\nDialogFooter.displayName = \"DialogFooter\";\n\nconst DialogTitle = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold leading-none tracking-tight\", className)}\n    {...props}\n  />\n));\nDialogTitle.displayName = DialogPrimitive.Title.displayName;\n\nconst DialogDescription = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Description ref={ref} className={cn(\"text-sm text-muted-foreground\", className)} {...props} />\n));\nDialogDescription.displayName = DialogPrimitive.Description.displayName;\n\nexport {\n  Dialog,\n  DialogPortal,\n  DialogOverlay,\n  DialogClose,\n  DialogTrigger,\n  DialogContent,\n  DialogHeader,\n  DialogFooter,\n  DialogTitle,\n  DialogDescription,\n};\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AAEA;;;;;;AAEA,MAAM,SAAS,6KAAoB;AAEnC,MAAM,gBAAgB,gLAAuB;AAE7C,MAAM,eAAe,+KAAsB;AAE3C,MAAM,cAAc,8KAAqB;AAEzC,MAAM,8BAAgB,2KAAgB,CAGpC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,gLAAuB;QACtB,KAAK;QACL,WAAW,IAAA,4HAAE,EACX,0JACA;QAED,GAAG,KAAK;;;;;;KAVP;AAaN,cAAc,WAAW,GAAG,gLAAuB,CAAC,WAAW;AAE/D,MAAM,8BAAgB,2KAAgB,OAGpC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,6LAAC;;0BACC,6LAAC;;;;;0BACD,6LAAC,gLAAuB;gBACtB,KAAK;gBACL,WAAW,IAAA,4HAAE,EACX,+fACA;gBAED,GAAG,KAAK;;oBAER;kCACD,6LAAC,8KAAqB;wBAAC,WAAU;;0CAC/B,6LAAC,oMAAC;gCAAC,WAAU;;;;;;0CACb,6LAAC;gCAAK,WAAU;0CAAU;;;;;;;;;;;;;;;;;;;;;;;;;AAKlC,cAAc,WAAW,GAAG,gLAAuB,CAAC,WAAW;AAE/D,MAAM,eAAe,CAAC,EAAE,SAAS,EAAE,GAAG,OAA6C,iBACjF,6LAAC;QAAI,WAAW,IAAA,4HAAE,EAAC,sDAAsD;QAAa,GAAG,KAAK;;;;;;MAD1F;AAGN,aAAa,WAAW,GAAG;AAE3B,MAAM,eAAe,CAAC,EAAE,SAAS,EAAE,GAAG,OAA6C,iBACjF,6LAAC;QAAI,WAAW,IAAA,4HAAE,EAAC,iEAAiE;QAAa,GAAG,KAAK;;;;;;MADrG;AAGN,aAAa,WAAW,GAAG;AAE3B,MAAM,4BAAc,2KAAgB,OAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,8KAAqB;QACpB,KAAK;QACL,WAAW,IAAA,4HAAE,EAAC,qDAAqD;QAClE,GAAG,KAAK;;;;;;;AAGb,YAAY,WAAW,GAAG,8KAAqB,CAAC,WAAW;AAE3D,MAAM,kCAAoB,2KAAgB,OAGxC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,oLAA2B;QAAC,KAAK;QAAK,WAAW,IAAA,4HAAE,EAAC,iCAAiC;QAAa,GAAG,KAAK;;;;;;;AAE7G,kBAAkB,WAAW,GAAG,oLAA2B,CAAC,WAAW"}},
    {"offset": {"line": 1346, "column": 0}, "map": {"version":3,"sources":["file:///D:/Jagdish/projects/habit-focus-main/src/components/ui/input.tsx"],"sourcesContent":["import * as React from \"react\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst Input = React.forwardRef<HTMLInputElement, React.ComponentProps<\"input\">>(\n  ({ className, type, ...props }, ref) => {\n    return (\n      <input\n        type={type}\n        className={cn(\n          \"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n          className,\n        )}\n        ref={ref}\n        {...props}\n      />\n    );\n  },\n);\nInput.displayName = \"Input\";\n\nexport { Input };\n"],"names":[],"mappings":";;;;;AAAA;AAEA;;;;AAEA,MAAM,sBAAQ,2KAAgB,MAC5B,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAO,EAAE;IAC9B,qBACE,6LAAC;QACC,MAAM;QACN,WAAW,IAAA,4HAAE,EACX,kYACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;;AAEF,MAAM,WAAW,GAAG"}},
    {"offset": {"line": 1381, "column": 0}, "map": {"version":3,"sources":["file:///D:/Jagdish/projects/habit-focus-main/src/components/ui/label.tsx"],"sourcesContent":["import * as React from \"react\";\nimport * as LabelPrimitive from \"@radix-ui/react-label\";\nimport { cva, type VariantProps } from \"class-variance-authority\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst labelVariants = cva(\"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\");\n\nconst Label = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> & VariantProps<typeof labelVariants>\n>(({ className, ...props }, ref) => (\n  <LabelPrimitive.Root ref={ref} className={cn(labelVariants(), className)} {...props} />\n));\nLabel.displayName = LabelPrimitive.Root.displayName;\n\nexport { Label };\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AAEA;;;;;;AAEA,MAAM,gBAAgB,IAAA,0KAAG,EAAC;AAE1B,MAAM,sBAAQ,2KAAgB,MAG5B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,4KAAmB;QAAC,KAAK;QAAK,WAAW,IAAA,4HAAE,EAAC,iBAAiB;QAAa,GAAG,KAAK;;;;;;;AAErF,MAAM,WAAW,GAAG,4KAAmB,CAAC,WAAW"}},
    {"offset": {"line": 1418, "column": 0}, "map": {"version":3,"sources":["file:///D:/Jagdish/projects/habit-focus-main/src/components/habits/EditHabitDialog.tsx"],"sourcesContent":["\r\n'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { useForm } from 'react-hook-form';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Dialog, DialogContent, DialogDescription, DialogFooter, DialogHeader, DialogTitle } from '@/components/ui/dialog';\r\nimport { Input } from '@/components/ui/input';\r\nimport { Label } from '@/components/ui/label';\r\nimport { habitService, Habit } from '@/services/habits';\r\nimport { toast } from 'sonner';\r\n\r\ninterface EditHabitDialogProps {\r\n    habit: Habit;\r\n    open: boolean;\r\n    onOpenChange: (open: boolean) => void;\r\n    onHabitUpdated: () => void;\r\n}\r\n\r\nexport const EditHabitDialog = ({ habit, open, onOpenChange, onHabitUpdated }: EditHabitDialogProps) => {\r\n    const { register, handleSubmit, reset } = useForm();\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    useEffect(() => {\r\n        if (habit) {\r\n            // Determine initial schedule value\r\n            let schedule = 'custom';\r\n            const days = habit.days_of_week || [];\r\n            if (days.length === 7) schedule = 'everyday';\r\n            else if (days.length === 5 && !days.includes(0) && !days.includes(6)) schedule = 'weekdays';\r\n            else if (days.length === 2 && days.includes(0) && days.includes(6)) schedule = 'weekends';\r\n            else if (days.length === 1) {\r\n                const dayMap: { [key: number]: string } = { 0: 'sun', 1: 'mon', 2: 'tue', 3: 'wed', 4: 'thu', 5: 'fri', 6: 'sat' };\r\n                schedule = dayMap[days[0]] || 'custom';\r\n            }\r\n\r\n            reset({\r\n                name: habit.name,\r\n                description: habit.description || '',\r\n                color: habit.color,\r\n                schedule: schedule\r\n            });\r\n        }\r\n    }, [habit, reset]);\r\n\r\n    const onSubmit = async (data: any) => {\r\n        try {\r\n            setLoading(true);\r\n\r\n            // Map schedule to days_of_week\r\n            let daysOfWeek = habit.days_of_week;\r\n            const schedule = data.schedule;\r\n\r\n            if (schedule === 'everyday') daysOfWeek = [0, 1, 2, 3, 4, 5, 6];\r\n            else if (schedule === 'weekdays') daysOfWeek = [1, 2, 3, 4, 5];\r\n            else if (schedule === 'weekends') daysOfWeek = [0, 6];\r\n            else if (schedule === 'sun') daysOfWeek = [0];\r\n            else if (schedule === 'mon') daysOfWeek = [1];\r\n            else if (schedule === 'tue') daysOfWeek = [2];\r\n            else if (schedule === 'wed') daysOfWeek = [3];\r\n            else if (schedule === 'thu') daysOfWeek = [4];\r\n            else if (schedule === 'fri') daysOfWeek = [5];\r\n            else if (schedule === 'sat') daysOfWeek = [6];\r\n\r\n            await habitService.updateHabit(habit.id, {\r\n                name: data.name,\r\n                description: data.description,\r\n                color: data.color,\r\n                days_of_week: daysOfWeek\r\n            });\r\n\r\n            toast.success('Habit updated successfully');\r\n            onOpenChange(false);\r\n            onHabitUpdated();\r\n        } catch (error) {\r\n            toast.error('Failed to update habit');\r\n            console.error(error);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <Dialog open={open} onOpenChange={onOpenChange}>\r\n            <DialogContent className=\"sm:max-w-[425px]\">\r\n                <DialogHeader>\r\n                    <DialogTitle>Edit Habit</DialogTitle>\r\n                    <DialogDescription>\r\n                        Update your habit details and schedule.\r\n                    </DialogDescription>\r\n                </DialogHeader>\r\n                <form onSubmit={handleSubmit(onSubmit)} className=\"space-y-4 py-4\">\r\n                    <div className=\"space-y-2\">\r\n                        <Label htmlFor=\"edit-name\">Habit Name</Label>\r\n                        <Input id=\"edit-name\" {...register('name', { required: true })} />\r\n                    </div>\r\n\r\n                    <div className=\"space-y-2\">\r\n                        <Label htmlFor=\"edit-description\">Description</Label>\r\n                        <Input id=\"edit-description\" {...register('description')} />\r\n                    </div>\r\n\r\n                    <div className=\"grid grid-cols-2 gap-4\">\r\n                        <div className=\"space-y-2\">\r\n                            <Label htmlFor=\"edit-color\">Color</Label>\r\n                            <select\r\n                                id=\"edit-color\"\r\n                                className=\"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\"\r\n                                {...register('color')}\r\n                            >\r\n                                <option value=\"#6366F1\">Indigo</option>\r\n                                <option value=\"#22C55E\">Green</option>\r\n                                <option value=\"#F43F5E\">Rose</option>\r\n                                <option value=\"#EAB308\">Yellow</option>\r\n                                <option value=\"#8B5CF6\">Purple</option>\r\n                                <option value=\"#06B6D4\">Cyan</option>\r\n                            </select>\r\n                        </div>\r\n\r\n                        <div className=\"space-y-2\">\r\n                            <Label htmlFor=\"edit-schedule\">Schedule</Label>\r\n                            <select\r\n                                id=\"edit-schedule\"\r\n                                className=\"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\"\r\n                                {...register('schedule')}\r\n                            >\r\n                                <option value=\"everyday\">Everyday</option>\r\n                                <option value=\"weekdays\">Except Weekends</option>\r\n                                <option value=\"weekends\">Except Weekdays</option>\r\n                                <option value=\"mon\">Monday</option>\r\n                                <option value=\"tue\">Tuesday</option>\r\n                                <option value=\"wed\">Wednesday</option>\r\n                                <option value=\"thu\">Thursday</option>\r\n                                <option value=\"fri\">Friday</option>\r\n                                <option value=\"sat\">Saturday</option>\r\n                                <option value=\"sun\">Sunday</option>\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <DialogFooter>\r\n                        <Button type=\"submit\" className=\"w-full\" disabled={loading}>\r\n                            {loading ? 'Saving...' : 'Save Changes'}\r\n                        </Button>\r\n                    </DialogFooter>\r\n                </form>\r\n            </DialogContent>\r\n        </Dialog>\r\n    );\r\n};\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1868, "column": 0}, "map": {"version":3,"sources":["file:///D:/Jagdish/projects/habit-focus-main/src/components/habits/HabitGrid.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useRef, useEffect } from 'react';\r\nimport { Check, MoreVertical, Trash2, Edit2, X, Check as CheckIcon, Info, Calendar } from 'lucide-react';\r\nimport { cn } from '@/lib/utils';\r\nimport { habitService, Habit } from '@/services/habits';\r\nimport { logService, HabitLog } from '@/services/logs';\r\nimport { toast } from 'sonner';\r\nimport {\r\n  DropdownMenu,\r\n  DropdownMenuContent,\r\n  DropdownMenuItem,\r\n  DropdownMenuTrigger,\r\n} from \"@/components/ui/dropdown-menu\";\r\nimport {\r\n  AlertDialog,\r\n  AlertDialogAction,\r\n  AlertDialogCancel,\r\n  AlertDialogContent,\r\n  AlertDialogDescription,\r\n  AlertDialogFooter,\r\n  AlertDialogHeader,\r\n  AlertDialogTitle,\r\n} from \"@/components/ui/alert-dialog\";\r\nimport { Button } from '@/components/ui/button';\r\nimport { EditHabitDialog } from './EditHabitDialog';\r\n\r\ninterface HabitWithLogs extends Habit {\r\n  completedDays: number[];\r\n}\r\n\r\ninterface HabitGridProps {\r\n  currentMonth: Date;\r\n  userCreatedAt: Date | null;\r\n}\r\n\r\nexport const HabitGrid = ({ currentMonth, userCreatedAt }: HabitGridProps) => {\r\n  const [habits, setHabits] = useState<HabitWithLogs[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const scrollRef = useRef<HTMLDivElement>(null);\r\n\r\n  // Modal States\r\n  const [editingHabit, setEditingHabit] = useState<Habit | null>(null);\r\n  const [deleteId, setDeleteId] = useState<string | null>(null);\r\n\r\n  const daysInMonth = new Date(\r\n    currentMonth.getFullYear(),\r\n    currentMonth.getMonth() + 1,\r\n    0\r\n  ).getDate();\r\n\r\n  const today = new Date();\r\n  const isCurrentMonth = today.getMonth() === currentMonth.getMonth() && today.getFullYear() === currentMonth.getFullYear();\r\n  const isFutureMonth = currentMonth > new Date(today.getFullYear(), today.getMonth(), 1);\r\n  const currentDay = isCurrentMonth ? today.getDate() : -1;\r\n\r\n  const days = Array.from({ length: daysInMonth }, (_, i) => i + 1);\r\n\r\n  const loadData = async () => {\r\n    try {\r\n      setLoading(true);\r\n      // 1. Fetch Habits\r\n      const habitsData = await habitService.getHabits();\r\n\r\n      // Refresh stats for habits that haven't been updated today or are missing records\r\n      const now = new Date();\r\n      const todayStr = `${now.getFullYear()}-${String(now.getMonth() + 1).padStart(2, '0')}-${String(now.getDate()).padStart(2, '0')}`;\r\n\r\n      await Promise.all(habitsData.map(async (habit) => {\r\n        if (habit.last_updated_date !== todayStr || (habit.highest_streak === 0 && habit.completed_count > 0)) {\r\n          await habitService.refreshHabitStats(habit.id);\r\n        }\r\n      }));\r\n\r\n      // 2. Fetch Logs for this month\r\n      const startOfMonth = new Date(currentMonth.getFullYear(), currentMonth.getMonth(), 1);\r\n      const endOfMonth = new Date(currentMonth.getFullYear(), currentMonth.getMonth() + 1, 0);\r\n      const logsData = await logService.getLogs(startOfMonth, endOfMonth);\r\n\r\n      // 3. Merge\r\n      const combined: HabitWithLogs[] = habitsData.map(habit => {\r\n        const habitLogs = logsData.filter(l => l.habit_id === habit.id);\r\n        const completedDays = habitLogs.map(l => {\r\n          // Parse YYYY-MM-DD string directly to avoid timezone conversion issues\r\n          const parts = l.completed_date.split('-');\r\n          return parseInt(parts[2], 10);\r\n        });\r\n        return { ...habit, completedDays };\r\n      });\r\n\r\n      setHabits(combined);\r\n    } catch (error: any) {\r\n      console.error('HabitGrid loadData error:', error.message || error);\r\n      toast.error('Failed to load habits');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    loadData();\r\n  }, [currentMonth]);\r\n\r\n  // Handle scroll to today once loading is complete\r\n  useEffect(() => {\r\n    if (!loading && isCurrentMonth && scrollRef.current) {\r\n      const scrollContainer = scrollRef.current;\r\n      const todayElement = scrollContainer.querySelector(`[data-day=\"${currentDay}\"]`);\r\n      if (todayElement) {\r\n        const containerWidth = scrollContainer.offsetWidth;\r\n        const elementOffset = (todayElement as HTMLElement).offsetLeft;\r\n        const elementWidth = (todayElement as HTMLElement).offsetWidth;\r\n\r\n        scrollContainer.scrollLeft = elementOffset - (containerWidth / 2) + (elementWidth / 2);\r\n      }\r\n    }\r\n  }, [loading, isCurrentMonth, currentDay]);\r\n\r\n  const toggleDay = async (habitId: string, day: number) => {\r\n    // Safety check: prevent ticking future dates\r\n    const date = new Date(currentMonth.getFullYear(), currentMonth.getMonth(), day);\r\n    const now = new Date();\r\n\r\n    // Normalize today for comparison\r\n    const startOfToday = new Date(now.getFullYear(), now.getMonth(), now.getDate());\r\n    const startOfCell = new Date(date.getFullYear(), date.getMonth(), date.getDate());\r\n\r\n    if (startOfCell > startOfToday) {\r\n      toast.error('Cannot track future dates');\r\n      return;\r\n    }\r\n\r\n    // Optimistic Update\r\n    setHabits(prev => prev.map(habit => {\r\n      if (habit.id === habitId) {\r\n        const isCompleted = habit.completedDays.includes(day);\r\n        return {\r\n          ...habit,\r\n          completedDays: isCompleted\r\n            ? habit.completedDays.filter(d => d !== day)\r\n            : [...habit.completedDays, day]\r\n        };\r\n      }\r\n      return habit;\r\n    }));\r\n\r\n    try {\r\n      await logService.toggleCompletion(habitId, date);\r\n    } catch (error) {\r\n      // Revert if failed\r\n      toast.error('Failed to update habit');\r\n      loadData();\r\n    }\r\n  };\r\n\r\n  const confirmDelete = async () => {\r\n    if (!deleteId) return;\r\n    try {\r\n      await habitService.deleteHabit(deleteId);\r\n      setHabits(prev => prev.filter(h => h.id !== deleteId));\r\n      toast.success('Habit deleted');\r\n    } catch (error) {\r\n      toast.error('Failed to delete habit');\r\n    } finally {\r\n      setDeleteId(null);\r\n    }\r\n  };\r\n\r\n  const getColorClass = (color: string, isCompleted: boolean) => {\r\n    if (!isCompleted) return '';\r\n    if (color === '#6366F1' || color === 'primary') return 'bg-primary border-primary';\r\n    if (color === '#22C55E' || color === 'success') return 'bg-success border-success';\r\n    if (color === '#F43F5E' || color === 'secondary') return 'bg-secondary border-secondary';\r\n    if (color === '#EAB308' || color === 'warning') return 'bg-warning border-warning';\r\n    return 'bg-primary border-primary';\r\n  };\r\n\r\n  const isDayInSchedule = (habit: Habit, dayOfMonth: number) => {\r\n    const date = new Date(currentMonth.getFullYear(), currentMonth.getMonth(), dayOfMonth);\r\n    const dayOfWeek = date.getDay(); // 0-6\r\n    const schedule = habit.days_of_week || [0, 1, 2, 3, 4, 5, 6];\r\n    return schedule.includes(dayOfWeek);\r\n  };\r\n\r\n  if (loading) {\r\n    return <div className=\"glass-card p-4 h-40 flex items-center justify-center\">Loading habits...</div>;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"animate-fade-in max-w-full overflow-hidden\">\r\n        <div className=\"flex items-center justify-between mb-4 px-1\">\r\n          <h2 className=\"text-xl font-bold flex items-center gap-2\">\r\n            Daily Progress\r\n          </h2>\r\n          <div className=\"flex items-center gap-2 text-[10px] sm:text-xs font-semibold text-muted-foreground bg-accent/20 px-3 py-1.5 rounded-2xl border border-white/5\">\r\n            <span className=\"w-1.5 h-1.5 rounded-full bg-primary\" />\r\n            {currentMonth.toLocaleDateString('en-US', { month: 'short', year: 'numeric' })}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Legend for Mobile: Shows Habit names above the scrollable table */}\r\n        <div className=\"flex flex-wrap gap-x-2.5 gap-y-1.5 mb-2.5 px-1 lg:hidden\">\r\n          {habits.map((habit) => (\r\n            <div key={habit.id} className=\"flex items-center gap-1\">\r\n              <div\r\n                className=\"w-1.5 h-1.5 rounded-full shadow-[0_0_4px_rgba(0,0,0,0.2)]\"\r\n                style={{ backgroundColor: habit.color.startsWith('#') ? habit.color : 'hsl(var(--primary))' }}\r\n              />\r\n              <span className=\"text-[9px] font-bold text-foreground/60 tracking-tight uppercase\">{habit.name}</span>\r\n            </div>\r\n          ))}\r\n        </div>\r\n\r\n        <div className=\"glass-card overflow-hidden border-white/5 shadow-2xl relative w-full\">\r\n          <div className=\"overflow-x-auto scrollbar-hide\" ref={scrollRef}>\r\n            <table className=\"w-full border-separate border-spacing-0\">\r\n              <thead>\r\n                <tr className=\"bg-white/[0.02]\">\r\n                  <th className=\"sticky left-0 z-30 bg-card/95 backdrop-blur-xl min-w-[140px] sm:min-w-[180px] text-left py-5 pr-4 pl-5 border-b border-white/5 shadow-[8px_0_12px_-4px_rgba(0,0,0,0.2)] lg:table-cell hidden\">\r\n                    <span className=\"text-[10px] uppercase tracking-widest font-black text-muted-foreground/60\">Routine</span>\r\n                  </th>\r\n                  <th className=\"sticky left-0 z-30 bg-card/95 backdrop-blur-xl min-w-[34px] text-center py-2.5 border-b border-white/5 shadow-[8px_0_12px_-4px_rgba(0,0,0,0.2)] lg:hidden\">\r\n                    <span className=\"text-[8px] uppercase tracking-widest font-black text-muted-foreground/30\">#</span>\r\n                  </th>\r\n                  {days.map(day => (\r\n                    <th\r\n                      key={day}\r\n                      data-day={day}\r\n                      className=\"px-0.5 py-4 min-w-[44px] sm:min-w-[40px] border-b border-white/5 text-center transition-all bg-white/[0.01]\"\r\n                    >\r\n                      <span className={cn(\r\n                        'text-[10px] sm:text-xs font-bold transition-all duration-300 block',\r\n                        day === currentDay ? 'text-primary scale-110' : 'text-muted-foreground/20'\r\n                      )}>\r\n                        {day}\r\n                      </span>\r\n                    </th>\r\n                  ))}\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {isFutureMonth ? (\r\n                  <tr>\r\n                    <td colSpan={days.length + 1} className=\"py-24 text-center\">\r\n                      <div className=\"flex flex-col items-center gap-3 opacity-60\">\r\n                        <Calendar className=\"w-8 h-8 text-muted-foreground/30\" />\r\n                        <p className=\"text-sm font-medium text-muted-foreground italic\">\r\n                          This month hasn't started yet\r\n                        </p>\r\n                      </div>\r\n                    </td>\r\n                  </tr>\r\n                ) : habits.length === 0 ? (\r\n                  <tr>\r\n                    <td colSpan={days.length + 1} className=\"py-20 text-center text-muted-foreground text-sm italic opacity-50\">\r\n                      No routines for this period\r\n                    </td>\r\n                  </tr>\r\n                ) : (\r\n                  habits.map((habit, idx) => (\r\n                    <tr\r\n                      key={habit.id}\r\n                      className=\"group transition-colors duration-200 hover:bg-white/[0.03]\"\r\n                    >\r\n                      {/* Desktop Name Column */}\r\n                      <td className=\"sticky left-0 z-20 bg-card/95 backdrop-blur-xl py-4 pr-4 pl-5 border-b border-white/5 shadow-[8px_0_12px_-4px_rgba(0,0,0,0.2)] lg:table-cell hidden\">\r\n                        <div className=\"flex items-center justify-between group/cell\">\r\n                          <div className=\"flex flex-col min-w-0 pr-2\">\r\n                            <div className=\"flex items-center gap-2\">\r\n                              <div\r\n                                className={cn(\r\n                                  'w-2 h-2 rounded-full shrink-0 shadow-[0_0_8px_rgba(0,0,0,0.5)]',\r\n                                  !habit.color.startsWith('#') && getColorClass(habit.color, true).split(' ')[0]\r\n                                )}\r\n                                style={{ backgroundColor: habit.color.startsWith('#') ? habit.color : undefined }}\r\n                              />\r\n                              <span className=\"text-sm font-bold truncate text-foreground/90 tracking-tight\" title={habit.name}>\r\n                                {habit.name}\r\n                              </span>\r\n                            </div>\r\n                            {habit.description && (\r\n                              <span className=\"text-[10px] text-muted-foreground/50 truncate mt-0.5\" title={habit.description}>\r\n                                {habit.description}\r\n                              </span>\r\n                            )}\r\n                          </div>\r\n\r\n                          <DropdownMenu>\r\n                            <DropdownMenuTrigger asChild>\r\n                              <Button variant=\"ghost\" className=\"h-8 w-8 p-0 rounded-lg hover:bg-white/5 shrink-0\">\r\n                                <MoreVertical className=\"w-4 h-4 text-muted-foreground/30\" />\r\n                              </Button>\r\n                            </DropdownMenuTrigger>\r\n                            <DropdownMenuContent align=\"start\" className=\"w-40 rounded-2xl border-white/10 p-2 shadow-2xl backdrop-blur-xl bg-card/95\">\r\n                              <DropdownMenuItem onClick={() => setEditingHabit(habit)} className=\"rounded-xl py-2.5 gap-3\">\r\n                                <Edit2 className=\"w-4 h-4\" />\r\n                                Edit/Rename\r\n                              </DropdownMenuItem>\r\n                              <DropdownMenuItem onClick={() => setDeleteId(habit.id)} className=\"text-destructive focus:text-destructive focus:bg-destructive/10 rounded-xl py-2.5 gap-3\">\r\n                                <Trash2 className=\"w-4 h-4\" />\r\n                                Delete\r\n                              </DropdownMenuItem>\r\n                            </DropdownMenuContent>\r\n                          </DropdownMenu>\r\n                        </div>\r\n                      </td>\r\n\r\n                      {/* Mobile Indicator Column */}\r\n                      <td className=\"sticky left-0 z-20 bg-card/95 backdrop-blur-xl py-3 border-b border-white/5 shadow-[8px_0_12px_-4px_rgba(0,0,0,0.2)] lg:hidden text-center\">\r\n                        <DropdownMenu>\r\n                          <DropdownMenuTrigger asChild>\r\n                            <button\r\n                              className=\"w-5 h-5 mx-auto rounded-full shadow-[0_0_8px_rgba(0,0,0,0.3)] flex items-center justify-center text-[9px] font-black text-white\"\r\n                              style={{ backgroundColor: habit.color.startsWith('#') ? habit.color : 'hsl(var(--primary))' }}\r\n                            >\r\n                              {habit.name.charAt(0).toUpperCase()}\r\n                            </button>\r\n                          </DropdownMenuTrigger>\r\n                          <DropdownMenuContent align=\"start\" className=\"w-40 rounded-2xl border-white/10 p-2 shadow-2xl backdrop-blur-xl bg-card/95\">\r\n                            <DropdownMenuItem className=\"opacity-50 pointer-events-none text-[10px] uppercase font-bold px-3 py-1 mb-1\">{habit.name}</DropdownMenuItem>\r\n                            <DropdownMenuItem onClick={() => setEditingHabit(habit)} className=\"rounded-xl py-2.5 gap-3\">\r\n                              <Edit2 className=\"w-4 h-4\" />\r\n                              Edit\r\n                            </DropdownMenuItem>\r\n                            <DropdownMenuItem onClick={() => setDeleteId(habit.id)} className=\"text-destructive focus:text-destructive focus:bg-destructive/10 rounded-xl py-2.5 gap-3\">\r\n                              <Trash2 className=\"w-4 h-4\" />\r\n                              Delete\r\n                            </DropdownMenuItem>\r\n                          </DropdownMenuContent>\r\n                        </DropdownMenu>\r\n                      </td>\r\n                      {days.map(day => {\r\n                        const isCompleted = habit.completedDays.includes(day);\r\n                        const isToday = day === currentDay;\r\n                        const inSchedule = isDayInSchedule(habit, day);\r\n                        const cellDate = new Date(currentMonth.getFullYear(), currentMonth.getMonth(), day);\r\n\r\n                        let isBeforeCreation = false;\r\n                        if (userCreatedAt) {\r\n                          const creationStart = new Date(userCreatedAt);\r\n                          creationStart.setHours(0, 0, 0, 0);\r\n                          const cellReset = new Date(cellDate.getFullYear(), cellDate.getMonth(), cellDate.getDate());\r\n                          isBeforeCreation = cellReset < creationStart;\r\n                        }\r\n\r\n                        // Normalize dates for comparison\r\n                        const startOfToday = new Date(today.getFullYear(), today.getMonth(), today.getDate());\r\n                        const startOfCell = new Date(cellDate.getFullYear(), cellDate.getMonth(), cellDate.getDate());\r\n\r\n                        // Users can edit today and past days, but NOT future days\r\n                        // ALSO respect the habit schedule\r\n                        const isFuture = startOfCell > startOfToday;\r\n                        const isEditable = !isFuture && !isBeforeCreation && inSchedule;\r\n                        const isDisabled = !isEditable;\r\n\r\n                        return (\r\n                          <td key={day} className={cn(\r\n                            \"px-0.5 py-1.5 sm:py-3 border-b border-white/5 text-center transition-opacity relative\",\r\n                            !inSchedule && !isCompleted && \"opacity-10\",\r\n                            isFuture && \"opacity-20 cursor-not-allowed\"\r\n                          )}>\r\n                            <div className=\"flex justify-center relative\">\r\n                              <button\r\n                                onClick={() => !isDisabled && toggleDay(habit.id, day)}\r\n                                disabled={isDisabled}\r\n                                className={cn(\r\n                                  'habit-check w-3 h-3 sm:w-[13px] sm:h-[13px] rounded-sm flex items-center justify-center transition-all',\r\n                                  isEditable && 'active:scale-75 hover:border-primary/40',\r\n                                  isCompleted ? 'animate-check-pop border-transparent scale-105' : 'bg-white/[0.03] border border-white/5',\r\n                                  isToday && !isCompleted && 'border-primary/50 ring-1 ring-primary/10',\r\n                                  isDisabled && 'cursor-not-allowed opacity-50'\r\n                                )}\r\n                                style={isCompleted ? {\r\n                                  backgroundColor: habit.color.startsWith('#') ? habit.color : 'hsl(var(--primary))',\r\n                                  boxShadow: `0 0 10px ${habit.color.startsWith('#') ? habit.color : 'hsl(var(--primary))'}44`\r\n                                } : {}}\r\n                              >\r\n                                {isCompleted && (\r\n                                  <Check className=\"w-2 h-2 sm:w-2.5 sm:h-2.5 text-white\" strokeWidth={4} />\r\n                                )}\r\n                                {!isCompleted && isToday && inSchedule && (\r\n                                  <div className=\"w-0.5 h-0.5 rounded-full animate-pulse\" style={{ backgroundColor: habit.color.startsWith('#') ? habit.color : 'hsl(var(--primary))' }} />\r\n                                )}\r\n                                {!isCompleted && !inSchedule && (\r\n                                  <div className=\"w-0.5 h-0.5 rounded-full bg-white/10\" />\r\n                                )}\r\n                              </button>\r\n                            </div>\r\n                          </td>\r\n                        );\r\n                      })}\r\n                    </tr>\r\n                  ))\r\n                )}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n\r\n          {/* Scroll indicators on mobile */}\r\n          <div className=\"absolute top-0 right-0 bottom-0 w-8 bg-gradient-to-l from-black/20 to-transparent pointer-events-none lg:hidden\" />\r\n        </div>\r\n      </div>\r\n\r\n      {editingHabit && (\r\n        <EditHabitDialog\r\n          habit={editingHabit}\r\n          open={!!editingHabit}\r\n          onOpenChange={(open) => !open && setEditingHabit(null)}\r\n          onHabitUpdated={loadData}\r\n        />\r\n      )}\r\n\r\n      <AlertDialog open={!!deleteId} onOpenChange={(open) => !open && setDeleteId(null)}>\r\n        <AlertDialogContent className=\"rounded-3xl border-white/10 bg-card/95 backdrop-blur-xl\">\r\n          <AlertDialogHeader>\r\n            <AlertDialogTitle>Delete Routine?</AlertDialogTitle>\r\n            <AlertDialogDescription>\r\n              This will permanently remove this habit and all its history. This action cannot be undone.\r\n            </AlertDialogDescription>\r\n          </AlertDialogHeader>\r\n          <AlertDialogFooter>\r\n            <AlertDialogCancel className=\"rounded-2xl border-white/5\">Cancel</AlertDialogCancel>\r\n            <AlertDialogAction onClick={confirmDelete} className=\"bg-destructive hover:bg-destructive/90 rounded-2xl shadow-lg shadow-destructive/20\">Delete</AlertDialogAction>\r\n          </AlertDialogFooter>\r\n        </AlertDialogContent>\r\n      </AlertDialog>\r\n    </>\r\n  );\r\n};\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2687, "column": 0}, "map": {"version":3,"sources":["file:///D:/Jagdish/projects/habit-focus-main/src/components/ui/select.tsx"],"sourcesContent":["import * as React from \"react\";\nimport * as SelectPrimitive from \"@radix-ui/react-select\";\nimport { Check, ChevronDown, ChevronUp } from \"lucide-react\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst Select = SelectPrimitive.Root;\n\nconst SelectGroup = SelectPrimitive.Group;\n\nconst SelectValue = SelectPrimitive.Value;\n\nconst SelectTrigger = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1\",\n      className,\n    )}\n    {...props}\n  >\n    {children}\n    <SelectPrimitive.Icon asChild>\n      <ChevronDown className=\"h-4 w-4 opacity-50\" />\n    </SelectPrimitive.Icon>\n  </SelectPrimitive.Trigger>\n));\nSelectTrigger.displayName = SelectPrimitive.Trigger.displayName;\n\nconst SelectScrollUpButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollUpButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollUpButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollUpButton\n    ref={ref}\n    className={cn(\"flex cursor-default items-center justify-center py-1\", className)}\n    {...props}\n  >\n    <ChevronUp className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollUpButton>\n));\nSelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName;\n\nconst SelectScrollDownButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollDownButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollDownButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollDownButton\n    ref={ref}\n    className={cn(\"flex cursor-default items-center justify-center py-1\", className)}\n    {...props}\n  >\n    <ChevronDown className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollDownButton>\n));\nSelectScrollDownButton.displayName = SelectPrimitive.ScrollDownButton.displayName;\n\nconst SelectContent = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>\n>(({ className, children, position = \"popper\", ...props }, ref) => (\n  <SelectPrimitive.Portal>\n    <SelectPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        position === \"popper\" &&\n          \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\n        className,\n      )}\n      position={position}\n      {...props}\n    >\n      <SelectScrollUpButton />\n      <SelectPrimitive.Viewport\n        className={cn(\n          \"p-1\",\n          position === \"popper\" &&\n            \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]\",\n        )}\n      >\n        {children}\n      </SelectPrimitive.Viewport>\n      <SelectScrollDownButton />\n    </SelectPrimitive.Content>\n  </SelectPrimitive.Portal>\n));\nSelectContent.displayName = SelectPrimitive.Content.displayName;\n\nconst SelectLabel = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Label>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Label ref={ref} className={cn(\"py-1.5 pl-8 pr-2 text-sm font-semibold\", className)} {...props} />\n));\nSelectLabel.displayName = SelectPrimitive.Label.displayName;\n\nconst SelectItem = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground\",\n      className,\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <SelectPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </SelectPrimitive.ItemIndicator>\n    </span>\n\n    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n  </SelectPrimitive.Item>\n));\nSelectItem.displayName = SelectPrimitive.Item.displayName;\n\nconst SelectSeparator = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Separator ref={ref} className={cn(\"-mx-1 my-1 h-px bg-muted\", className)} {...props} />\n));\nSelectSeparator.displayName = SelectPrimitive.Separator.displayName;\n\nexport {\n  Select,\n  SelectGroup,\n  SelectValue,\n  SelectTrigger,\n  SelectContent,\n  SelectLabel,\n  SelectItem,\n  SelectSeparator,\n  SelectScrollUpButton,\n  SelectScrollDownButton,\n};\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AAAA;AAAA;AAEA;;;;;;AAEA,MAAM,SAAS,6KAAoB;AAEnC,MAAM,cAAc,8KAAqB;AAEzC,MAAM,cAAc,8KAAqB;AAEzC,MAAM,8BAAgB,2KAAgB,MAGpC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,6LAAC,gLAAuB;QACtB,KAAK;QACL,WAAW,IAAA,4HAAE,EACX,mTACA;QAED,GAAG,KAAK;;YAER;0BACD,6LAAC,6KAAoB;gBAAC,OAAO;0BAC3B,cAAA,6LAAC,sOAAW;oBAAC,WAAU;;;;;;;;;;;;;;;;;;AAI7B,cAAc,WAAW,GAAG,gLAAuB,CAAC,WAAW;AAE/D,MAAM,qCAAuB,2KAAgB,CAG3C,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,uLAA8B;QAC7B,KAAK;QACL,WAAW,IAAA,4HAAE,EAAC,wDAAwD;QACrE,GAAG,KAAK;kBAET,cAAA,6LAAC,gOAAS;YAAC,WAAU;;;;;;;;;;;MATnB;AAYN,qBAAqB,WAAW,GAAG,uLAA8B,CAAC,WAAW;AAE7E,MAAM,uCAAyB,2KAAgB,CAG7C,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,yLAAgC;QAC/B,KAAK;QACL,WAAW,IAAA,4HAAE,EAAC,wDAAwD;QACrE,GAAG,KAAK;kBAET,cAAA,6LAAC,sOAAW;YAAC,WAAU;;;;;;;;;;;MATrB;AAYN,uBAAuB,WAAW,GAAG,yLAAgC,CAAC,WAAW;AAEjF,MAAM,8BAAgB,2KAAgB,OAGpC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,WAAW,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACzD,6LAAC,+KAAsB;kBACrB,cAAA,6LAAC,gLAAuB;YACtB,KAAK;YACL,WAAW,IAAA,4HAAE,EACX,ucACA,aAAa,YACX,mIACF;YAEF,UAAU;YACT,GAAG,KAAK;;8BAET,6LAAC;;;;;8BACD,6LAAC,iLAAwB;oBACvB,WAAW,IAAA,4HAAE,EACX,OACA,aAAa,YACX;8BAGH;;;;;;8BAEH,6LAAC;;;;;;;;;;;;;;;;;AAIP,cAAc,WAAW,GAAG,gLAAuB,CAAC,WAAW;AAE/D,MAAM,4BAAc,2KAAgB,OAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,8KAAqB;QAAC,KAAK;QAAK,WAAW,IAAA,4HAAE,EAAC,0CAA0C;QAAa,GAAG,KAAK;;;;;;;AAEhH,YAAY,WAAW,GAAG,8KAAqB,CAAC,WAAW;AAE3D,MAAM,2BAAa,2KAAgB,OAGjC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,6LAAC,6KAAoB;QACnB,KAAK;QACL,WAAW,IAAA,4HAAE,EACX,6NACA;QAED,GAAG,KAAK;;0BAET,6LAAC;gBAAK,WAAU;0BACd,cAAA,6LAAC,sLAA6B;8BAC5B,cAAA,6LAAC,gNAAK;wBAAC,WAAU;;;;;;;;;;;;;;;;0BAIrB,6LAAC,iLAAwB;0BAAE;;;;;;;;;;;;;AAG/B,WAAW,WAAW,GAAG,6KAAoB,CAAC,WAAW;AAEzD,MAAM,gCAAkB,2KAAgB,QAGtC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,kLAAyB;QAAC,KAAK;QAAK,WAAW,IAAA,4HAAE,EAAC,4BAA4B;QAAa,GAAG,KAAK;;;;;;;AAEtG,gBAAgB,WAAW,GAAG,kLAAyB,CAAC,WAAW"}},
    {"offset": {"line": 2909, "column": 0}, "map": {"version":3,"sources":["file:///D:/Jagdish/projects/habit-focus-main/src/components/habits/HabitTrendsGraph.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect, useRef } from 'react';\r\nimport {\r\n    Area,\r\n    AreaChart,\r\n    ResponsiveContainer,\r\n    Tooltip,\r\n    XAxis,\r\n    YAxis,\r\n    CartesianGrid,\r\n    TooltipProps\r\n} from 'recharts';\r\nimport {\r\n    Select,\r\n    SelectContent,\r\n    SelectItem,\r\n    SelectTrigger,\r\n    SelectValue\r\n} from \"@/components/ui/select\";\r\nimport { logService } from '@/services/logs';\r\nimport { habitService } from '@/services/habits';\r\nimport { format, subDays, addDays, subWeeks, addWeeks, subMonths, addMonths, eachDayOfInterval, eachWeekOfInterval, eachMonthOfInterval, isSameDay, isSameWeek, isSameMonth } from 'date-fns';\r\nimport { cn } from '@/lib/utils';\r\n\r\ntype Timeline = 'day' | 'week' | 'month';\r\n\r\ninterface DataPoint {\r\n    label: string;\r\n    count: number;\r\n    isFuture: boolean;\r\n}\r\n\r\ninterface HabitTrendsGraphProps {\r\n    currentMonth: Date;\r\n}\r\n\r\nexport const HabitTrendsGraph = ({ currentMonth }: HabitTrendsGraphProps) => {\r\n    const [timeline, setTimeline] = useState<Timeline>('day');\r\n    const [data, setData] = useState<DataPoint[]>([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [isVisible, setIsVisible] = useState(false);\r\n    const containerRef = useRef<HTMLDivElement>(null);\r\n\r\n    useEffect(() => {\r\n        const observer = new IntersectionObserver(\r\n            ([entry]) => {\r\n                // Set to true when entering, false when leaving to allow replay\r\n                setIsVisible(entry.isIntersecting);\r\n            },\r\n            { threshold: 0.1 }\r\n        );\r\n\r\n        if (containerRef.current) {\r\n            observer.observe(containerRef.current);\r\n        }\r\n\r\n        return () => observer.disconnect();\r\n    }, []);\r\n\r\n    const loadData = async () => {\r\n        try {\r\n            setLoading(true);\r\n\r\n            // Reference date for the \"center\" of the 10 points\r\n            const realToday = new Date();\r\n            const isFutureMonth = currentMonth > new Date(realToday.getFullYear(), realToday.getMonth(), 1);\r\n\r\n            if (isFutureMonth) {\r\n                setData([]);\r\n                setLoading(false);\r\n                return;\r\n            }\r\n\r\n            const isCurrentMonthView = currentMonth.getMonth() === realToday.getMonth() && currentMonth.getFullYear() === realToday.getFullYear();\r\n\r\n            let referenceDate: Date;\r\n            if (isCurrentMonthView) {\r\n                referenceDate = realToday;\r\n            } else {\r\n                // For past/future months, center on the 15th\r\n                referenceDate = new Date(currentMonth.getFullYear(), currentMonth.getMonth(), 15);\r\n            }\r\n\r\n            let startDate: Date;\r\n            let endDate: Date;\r\n            let interval: Date[];\r\n\r\n            if (timeline === 'day') {\r\n                startDate = subDays(referenceDate, 5);\r\n                endDate = addDays(referenceDate, 4);\r\n                interval = eachDayOfInterval({ start: startDate, end: endDate }).slice(0, 10);\r\n            } else if (timeline === 'week') {\r\n                startDate = subWeeks(referenceDate, 5);\r\n                endDate = addWeeks(referenceDate, 4);\r\n                interval = eachWeekOfInterval({ start: startDate, end: endDate }).slice(0, 10);\r\n            } else {\r\n                startDate = subMonths(referenceDate, 5);\r\n                endDate = addMonths(referenceDate, 4);\r\n                interval = eachMonthOfInterval({ start: startDate, end: endDate }).slice(0, 10);\r\n            }\r\n\r\n            // Always fetch logs for the range\r\n            const logs = await logService.getLogs(startDate, endDate > realToday ? realToday : endDate);\r\n\r\n            const chartData: DataPoint[] = interval.map(date => {\r\n                let count = 0;\r\n                const isFuture = date > realToday && !isSameDay(date, realToday);\r\n\r\n                if (!isFuture) {\r\n                    if (timeline === 'day') {\r\n                        count = logs.filter(l => isSameDay(new Date(l.completed_date), date)).length;\r\n                    } else if (timeline === 'week') {\r\n                        count = logs.filter(l => isSameWeek(new Date(l.completed_date), date)).length;\r\n                    } else {\r\n                        count = logs.filter(l => isSameMonth(new Date(l.completed_date), date)).length;\r\n                    }\r\n                }\r\n\r\n                return {\r\n                    label: timeline === 'month' ? format(date, 'MMM') : format(date, 'd'),\r\n                    count,\r\n                    isFuture\r\n                };\r\n            });\r\n\r\n            setData(chartData);\r\n        } catch (error: any) {\r\n            console.error('HabitTrendsGraph loadData error:', error.message || error);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        loadData();\r\n    }, [timeline, currentMonth]);\r\n\r\n    const CustomTooltip = ({ active, payload, label }: TooltipProps<number, string>) => {\r\n        if (active && payload && payload.length) {\r\n            const isFuture = payload[0].payload.isFuture;\r\n            return (\r\n                <div className=\"bg-card/95 backdrop-blur-xl border border-white/10 p-3 rounded-2xl shadow-2xl\">\r\n                    <p className=\"text-[10px] uppercase tracking-widest font-black text-muted-foreground/60 mb-1\">\r\n                        {timeline === 'month' ? 'Month' : 'Date'} {label}\r\n                    </p>\r\n                    <div className=\"flex items-center gap-2\">\r\n                        <div className={cn(\r\n                            \"w-2 h-2 rounded-full shadow-[0_0_8px_hsl(var(--primary))]\",\r\n                            isFuture ? \"bg-muted-foreground/20\" : \"bg-primary\"\r\n                        )} />\r\n                        <p className=\"text-sm font-bold text-foreground\">\r\n                            {isFuture ? 'Future' : `${payload[0].value} ${payload[0].value === 1 ? 'Habit' : 'Habits'}`}\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n        return null;\r\n    };\r\n\r\n    return (\r\n        <div className=\"glass-card p-6 border-white/5 shadow-2xl animate-fade-in relative min-h-[340px]\" ref={containerRef}>\r\n            <div className=\"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 mb-10\">\r\n                <div>\r\n                    <h2 className=\"text-xl font-bold tracking-tight\">Activity Trends</h2>\r\n                    <p className=\"text-xs text-muted-foreground/60 font-medium mt-0.5\">Your consistency over time</p>\r\n                </div>\r\n\r\n                <div className=\"absolute top-6 right-6 z-10\">\r\n                    <Select value={timeline} onValueChange={(v) => setTimeline(v as Timeline)}>\r\n                        <SelectTrigger className=\"w-[100px] rounded-xl bg-white/[0.05] border-white/5 hover:bg-white/[0.1] transition-colors h-8 text-xs backdrop-blur-md\">\r\n                            <SelectValue placeholder=\"Period\" />\r\n                        </SelectTrigger>\r\n                        <SelectContent className=\"rounded-2xl border-white/10 bg-card/95 backdrop-blur-xl\">\r\n                            <SelectItem value=\"day\" className=\"rounded-xl text-xs\">Day</SelectItem>\r\n                            <SelectItem value=\"week\" className=\"rounded-xl text-xs\">Week</SelectItem>\r\n                            <SelectItem value=\"month\" className=\"rounded-xl text-xs\">Month</SelectItem>\r\n                        </SelectContent>\r\n                    </Select>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"h-[200px] w-full\">\r\n                {loading ? (\r\n                    <div className=\"h-full w-full flex items-center justify-center text-muted-foreground/40 text-sm italic\">\r\n                        Gathering trends...\r\n                    </div>\r\n                ) : (\r\n                    <ResponsiveContainer width=\"100%\" height=\"100%\">\r\n                        <AreaChart\r\n                            data={data}\r\n                            margin={{ left: -64, right: 0, bottom: 0, top: 0 }}\r\n                        >\r\n                            <defs>\r\n                                <linearGradient id=\"colorCount\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\r\n                                    <stop offset=\"5%\" stopColor=\"hsl(var(--primary))\" stopOpacity={0.2} />\r\n                                    <stop offset=\"95%\" stopColor=\"hsl(var(--primary))\" stopOpacity={0} />\r\n                                </linearGradient>\r\n                            </defs>\r\n                            <CartesianGrid\r\n                                strokeDasharray=\"3 3\"\r\n                                vertical={false}\r\n                                stroke=\"white\"\r\n                                strokeOpacity={0.02}\r\n                            />\r\n                            <XAxis\r\n                                dataKey=\"label\"\r\n                                axisLine={false}\r\n                                tickLine={false}\r\n                                tick={{ fill: 'hsl(var(--muted-foreground))', fontSize: 10, fontWeight: 700, opacity: 0.3 }}\r\n                                dy={10}\r\n                                hide={false}\r\n                                interval={0}\r\n                                minTickGap={0}\r\n                                padding={{ left: 64, right: 20 }}\r\n                            />\r\n                            <YAxis\r\n                                hide\r\n                                domain={[0, 'auto']}\r\n                            />\r\n                            <Tooltip content={<CustomTooltip />} cursor={{ stroke: 'hsl(var(--primary))', strokeWidth: 1, strokeDasharray: '4 4' }} />\r\n                            <Area\r\n                                key={`trends-area-${isVisible}-${currentMonth.getTime()}-${timeline}`}\r\n                                type=\"linear\"\r\n                                dataKey=\"count\"\r\n                                stroke=\"hsl(var(--primary))\"\r\n                                strokeWidth={1}\r\n                                fillOpacity={1}\r\n                                fill=\"url(#colorCount)\"\r\n                                isAnimationActive={isVisible}\r\n                                animationDuration={1000}\r\n                                connectNulls\r\n                            />\r\n                        </AreaChart>\r\n                    </ResponsiveContainer>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3373, "column": 0}, "map": {"version":3,"sources":["file:///D:/Jagdish/projects/habit-focus-main/src/components/stats/CircularProgress.tsx"],"sourcesContent":["import { cn } from '@/lib/utils';\n\ninterface CircularProgressProps {\n  percentage: number;\n  size?: number;\n  strokeWidth?: number;\n  label?: string;\n  sublabel?: string;\n  className?: string;\n  isVisible?: boolean;\n}\n\nexport const CircularProgress = ({\n  percentage,\n  size = 120,\n  strokeWidth = 6,\n  label,\n  sublabel,\n  className,\n  isVisible = true,\n}: CircularProgressProps) => {\n  const radius = (size - strokeWidth) / 2;\n  const circumference = radius * 2 * Math.PI;\n  const currentPercentage = isVisible ? percentage : 0;\n  const offset = circumference - (currentPercentage / 100) * circumference;\n\n  return (\n    <div className={cn('relative inline-flex items-center justify-center', className)}>\n      <svg width={size} height={size} className=\"-rotate-90\">\n        <circle\n          cx={size / 2}\n          cy={size / 2}\n          r={radius}\n          fill=\"none\"\n          stroke=\"hsl(var(--muted))\"\n          strokeWidth={strokeWidth}\n        />\n        <circle\n          cx={size / 2}\n          cy={size / 2}\n          r={radius}\n          fill=\"none\"\n          stroke=\"hsl(var(--primary))\"\n          strokeWidth={strokeWidth}\n\n          strokeDasharray={circumference}\n          strokeDashoffset={offset}\n          strokeLinecap=\"round\"\n          className=\"transition-all duration-1000 ease-in-out\"\n          style={{\n            filter: 'drop-shadow(0 0 8px hsl(var(--primary) / 0.4))',\n          }}\n        />\n      </svg>\n      <div className=\"absolute inset-0 flex flex-col items-center justify-center\">\n        <span\n          className=\"font-semibold tracking-tight text-foreground leading-none\"\n          style={{ fontSize: size * 0.22 }}\n        >\n          {isVisible ? `${percentage}%` : '0%'}\n        </span>\n        {label && <span className=\"text-[10px] text-muted-foreground mt-1 uppercase font-bold tracking-widest\">{label}</span>}\n        {sublabel && <span className=\"text-[9px] text-muted-foreground/60\">{sublabel}</span>}\n      </div>\n    </div>\n  );\n};\n"],"names":[],"mappings":";;;;;AAAA;;;AAYO,MAAM,mBAAmB,CAAC,EAC/B,UAAU,EACV,OAAO,GAAG,EACV,cAAc,CAAC,EACf,KAAK,EACL,QAAQ,EACR,SAAS,EACT,YAAY,IAAI,EACM;IACtB,MAAM,SAAS,CAAC,OAAO,WAAW,IAAI;IACtC,MAAM,gBAAgB,SAAS,IAAI,KAAK,EAAE;IAC1C,MAAM,oBAAoB,YAAY,aAAa;IACnD,MAAM,SAAS,gBAAgB,AAAC,oBAAoB,MAAO;IAE3D,qBACE,6LAAC;QAAI,WAAW,IAAA,4HAAE,EAAC,oDAAoD;;0BACrE,6LAAC;gBAAI,OAAO;gBAAM,QAAQ;gBAAM,WAAU;;kCACxC,6LAAC;wBACC,IAAI,OAAO;wBACX,IAAI,OAAO;wBACX,GAAG;wBACH,MAAK;wBACL,QAAO;wBACP,aAAa;;;;;;kCAEf,6LAAC;wBACC,IAAI,OAAO;wBACX,IAAI,OAAO;wBACX,GAAG;wBACH,MAAK;wBACL,QAAO;wBACP,aAAa;wBAEb,iBAAiB;wBACjB,kBAAkB;wBAClB,eAAc;wBACd,WAAU;wBACV,OAAO;4BACL,QAAQ;wBACV;;;;;;;;;;;;0BAGJ,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBACC,WAAU;wBACV,OAAO;4BAAE,UAAU,OAAO;wBAAK;kCAE9B,YAAY,GAAG,WAAW,CAAC,CAAC,GAAG;;;;;;oBAEjC,uBAAS,6LAAC;wBAAK,WAAU;kCAA8E;;;;;;oBACvG,0BAAY,6LAAC;wBAAK,WAAU;kCAAuC;;;;;;;;;;;;;;;;;;AAI5E;KAtDa"}},
    {"offset": {"line": 3484, "column": 0}, "map": {"version":3,"sources":["file:///D:/Jagdish/projects/habit-focus-main/src/components/stats/WeeklyChart.tsx"],"sourcesContent":["interface WeeklyChartProps {\n  data: {\n    day: string;\n    value: number;\n    isToday?: boolean;\n    isRunningWeek?: boolean;\n  }[];\n  isVisible?: boolean;\n}\n\nexport const WeeklyChart = ({ data, isVisible = true }: WeeklyChartProps) => {\n  const maxValue = Math.max(...data.map(d => d.value)) || 100;\n\n  return (\n    <div className=\"flex items-end justify-between gap-2 h-32\">\n      {data.map((item, idx) => {\n        const height = isVisible ? (maxValue > 0 ? (item.value / maxValue) * 100 : 0) : 0;\n        const isToday = item.isToday;\n        const isRunningWeek = item.isRunningWeek;\n\n        return (\n          <div key={`${item.day}-${idx}`} className=\"flex-1 flex flex-col items-center gap-2\">\n\n            <div className=\"w-full relative h-24 flex items-end\">\n              <div\n                className={`w-full rounded-t-lg transition-all duration-1000 ease-in-out ${isToday\n                  ? 'bg-gradient-to-t from-primary to-primary/60 shadow-[0_0_15px_hsl(var(--primary)/0.4)] border-t border-white/20'\n                  : isRunningWeek\n                    ? 'bg-primary/20 hover:bg-primary/30 border-t border-primary/20 backdrop-blur-sm shadow-[0_4px_12px_rgba(0,0,0,0.1)]'\n                    : 'bg-white/5 hover:bg-white/10'\n                  }`}\n\n                style={{\n                  height: `${height}%`,\n                  transitionDelay: isVisible ? `${idx * 100}ms` : '0ms',\n                }}\n              />\n              {isToday && isVisible && (\n                <div className=\"absolute -top-6 left-1/2 -translate-x-1/2 bg-primary/20 text-primary text-[8px] font-black px-1.5 py-0.5 rounded-full animate-bounce\">\n                  NOW\n                </div>\n              )}\n            </div>\n            <span className={`text-[10px] font-bold tracking-tighter ${isToday ? 'text-primary' : isRunningWeek ? 'text-muted-foreground/60' : 'text-muted-foreground/20'}`}>\n              {item.day.toUpperCase()}\n            </span>\n          </div>\n        );\n      })}\n    </div>\n  );\n};\n"],"names":[],"mappings":";;;;;;AAUO,MAAM,cAAc,CAAC,EAAE,IAAI,EAAE,YAAY,IAAI,EAAoB;IACtE,MAAM,WAAW,KAAK,GAAG,IAAI,KAAK,GAAG,CAAC,CAAA,IAAK,EAAE,KAAK,MAAM;IAExD,qBACE,6LAAC;QAAI,WAAU;kBACZ,KAAK,GAAG,CAAC,CAAC,MAAM;YACf,MAAM,SAAS,YAAa,WAAW,IAAI,AAAC,KAAK,KAAK,GAAG,WAAY,MAAM,IAAK;YAChF,MAAM,UAAU,KAAK,OAAO;YAC5B,MAAM,gBAAgB,KAAK,aAAa;YAExC,qBACE,6LAAC;gBAA+B,WAAU;;kCAExC,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCACC,WAAW,CAAC,6DAA6D,EAAE,UACvE,mHACA,gBACE,sHACA,gCACF;gCAEJ,OAAO;oCACL,QAAQ,GAAG,OAAO,CAAC,CAAC;oCACpB,iBAAiB,YAAY,GAAG,MAAM,IAAI,EAAE,CAAC,GAAG;gCAClD;;;;;;4BAED,WAAW,2BACV,6LAAC;gCAAI,WAAU;0CAAuI;;;;;;;;;;;;kCAK1J,6LAAC;wBAAK,WAAW,CAAC,uCAAuC,EAAE,UAAU,iBAAiB,gBAAgB,6BAA6B,4BAA4B;kCAC5J,KAAK,GAAG,CAAC,WAAW;;;;;;;eAvBf,GAAG,KAAK,GAAG,CAAC,CAAC,EAAE,KAAK;;;;;QA2BlC;;;;;;AAGN;KAzCa"}},
    {"offset": {"line": 3560, "column": 0}, "map": {"version":3,"sources":["file:///D:/Jagdish/projects/habit-focus-main/src/components/stats/StatsSection.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect, useRef } from 'react';\r\nimport { TrendingUp, TrendingDown, Flame, Target } from 'lucide-react';\r\nimport { CircularProgress } from './CircularProgress';\r\nimport { WeeklyChart } from './WeeklyChart';\r\nimport { habitService, Habit } from '@/services/habits';\r\nimport { logService, HabitLog } from '@/services/logs';\r\nimport { cn } from '@/lib/utils';\r\n\r\ninterface TopHabit {\r\n  id: string;\r\n  name: string;\r\n  streak: number;\r\n  percentage: number;\r\n}\r\n\r\ninterface StatsSectionProps {\r\n  currentMonth: Date;\r\n}\r\n\r\nexport const StatsSection = ({ currentMonth }: StatsSectionProps) => {\r\n  const [loading, setLoading] = useState(true);\r\n  const [monthlyStats, setMonthlyStats] = useState({\r\n    percentage: 0,\r\n    trend: 0\r\n  });\r\n  const [weeklyData, setWeeklyData] = useState<{ day: string; value: number }[]>([]);\r\n  const [topHabits, setTopHabits] = useState<TopHabit[]>([]);\r\n\r\n  const [isSectionVisible, setIsSectionVisible] = useState(false);\r\n  const sectionRef = useRef<HTMLDivElement>(null);\r\n\r\n  useEffect(() => {\r\n    const observer = new IntersectionObserver(\r\n      ([entry]) => {\r\n        setIsSectionVisible(entry.isIntersecting);\r\n      },\r\n      { threshold: 0.1 }\r\n    );\r\n\r\n    if (sectionRef.current) {\r\n      observer.observe(sectionRef.current);\r\n    }\r\n\r\n    return () => observer.disconnect();\r\n  }, [loading]); // Re-run when loading is finished to ensure ref is attached\r\n\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        setLoading(true);\r\n        const habits = await habitService.getHabits();\r\n        const totalHabits = habits.length;\r\n\r\n        if (totalHabits === 0) {\r\n          setLoading(false);\r\n          return;\r\n        }\r\n\r\n        // Determine Reference Date (The \"Today\" of the view)\r\n        const realToday = new Date();\r\n        const dayNames = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];\r\n\r\n        // Check if viewing a future month\r\n        const isFutureMonth = currentMonth > new Date(realToday.getFullYear(), realToday.getMonth(), 1);\r\n\r\n        if (isFutureMonth) {\r\n          setMonthlyStats({ percentage: 0, trend: 0 });\r\n          setWeeklyData(dayNames.map(name => ({ day: name, value: 0 })));\r\n          setTopHabits([]);\r\n          setLoading(false);\r\n          return;\r\n        }\r\n\r\n        const isCurrentCalendarMonth =\r\n          realToday.getFullYear() === currentMonth.getFullYear() &&\r\n          realToday.getMonth() === currentMonth.getMonth();\r\n\r\n        // If viewing current month, stop at today. If past month, look at end of that month.\r\n        let viewDate = isCurrentCalendarMonth\r\n          ? realToday\r\n          : new Date(currentMonth.getFullYear(), currentMonth.getMonth() + 1, 0);\r\n\r\n        const viewMonthStart = new Date(currentMonth.getFullYear(), currentMonth.getMonth(), 1);\r\n\r\n        const prevMonthStart = new Date(currentMonth.getFullYear(), currentMonth.getMonth() - 1, 1);\r\n        const prevMonthEnd = new Date(currentMonth.getFullYear(), currentMonth.getMonth(), 0);\r\n\r\n        // Fetch logs\r\n        const logs = await logService.getLogs(prevMonthStart, viewDate);\r\n\r\n        const toLocal = (d: Date) => {\r\n          const year = d.getFullYear();\r\n          const month = String(d.getMonth() + 1).padStart(2, '0');\r\n          const day = String(d.getDate()).padStart(2, '0');\r\n          return `${year}-${month}-${day}`;\r\n        };\r\n\r\n        // --- 1. Monthly Progress & Trend ---\r\n        const getMonthRate = (start: Date, end: Date, relevantLogs: HabitLog[]) => {\r\n          const daysToProcess = end.getDate();\r\n          let totalPossible = 0;\r\n          let totalActual = 0;\r\n\r\n          habits.forEach(h => {\r\n            for (let d = 1; d <= daysToProcess; d++) {\r\n              const checkDate = new Date(start.getFullYear(), start.getMonth(), d);\r\n              const schedule = h.days_of_week || [0, 1, 2, 3, 4, 5, 6];\r\n              if (schedule.includes(checkDate.getDay())) {\r\n                totalPossible++;\r\n\r\n                const dStr = toLocal(checkDate);\r\n                const isLogged = relevantLogs.some(l => l.habit_id === h.id && l.completed_date === dStr);\r\n                if (isLogged) totalActual++;\r\n              }\r\n            }\r\n          });\r\n\r\n          return totalPossible > 0 ? Math.round((totalActual / totalPossible) * 100) : 0;\r\n        };\r\n\r\n        // Compare current progress with SAME PORTION of last month\r\n        const currentRate = getMonthRate(viewMonthStart, viewDate, logs);\r\n\r\n        // For previous month, we only look up to the same day of the month\r\n        const sameDayLastMonth = new Date(prevMonthStart.getFullYear(), prevMonthStart.getMonth(), viewDate.getDate());\r\n        // Clamp it to the end of the previous month just in case (e.g. Jan 31 -> Feb 28)\r\n        const cappedLastMonthDay = sameDayLastMonth > prevMonthEnd ? prevMonthEnd : sameDayLastMonth;\r\n\r\n        const prevRate = getMonthRate(prevMonthStart, cappedLastMonthDay, logs);\r\n        const trend = currentRate - prevRate;\r\n\r\n        setMonthlyStats({\r\n          percentage: currentRate,\r\n          trend: trend\r\n        });\r\n\r\n        // --- 2. Weekly Consistency ---\r\n        const weekDataPoints = [];\r\n\r\n        for (let i = 6; i >= 0; i--) {\r\n          const d = new Date(viewDate);\r\n          d.setDate(viewDate.getDate() - i);\r\n          const dStr = toLocal(d);\r\n          const dName = dayNames[d.getDay()];\r\n          const dayOfWeek = d.getDay();\r\n\r\n          let dayPossible = 0;\r\n          let dayLogged = 0;\r\n\r\n          habits.forEach(h => {\r\n            const schedule = h.days_of_week || [0, 1, 2, 3, 4, 5, 6];\r\n            if (schedule.includes(dayOfWeek)) {\r\n              dayPossible++;\r\n              if (logs.some(l => l.habit_id === h.id && l.completed_date === dStr)) {\r\n                dayLogged++;\r\n              }\r\n            }\r\n          });\r\n\r\n          const val = dayPossible > 0 ? Math.round((dayLogged / dayPossible) * 100) : 0;\r\n\r\n          const isToday = dStr === toLocal(realToday);\r\n\r\n          // Check if d is in the same week as realToday\r\n          // Using a simple check: same year and same week number (approx)\r\n          // Better: check if it's within [Monday, Sunday] of realToday\r\n          const sunday = new Date(realToday);\r\n          sunday.setDate(realToday.getDate() - realToday.getDay());\r\n          sunday.setHours(0, 0, 0, 0);\r\n          const nextMonday = new Date(sunday);\r\n          nextMonday.setDate(sunday.getDate() + 7);\r\n\r\n          const isRunningWeek = d >= sunday && d < nextMonday;\r\n\r\n          weekDataPoints.push({\r\n            day: dName,\r\n            value: val,\r\n            isToday,\r\n            isRunningWeek\r\n          });\r\n        }\r\n        setWeeklyData(weekDataPoints);\r\n\r\n        // --- 3. Top Habits ---\r\n        // Metric: Streak ending at viewDate & 30-day percentage ending at viewDate\r\n        const habitsStats = habits.map(h => {\r\n          const hLogs = logs.filter(l => l.habit_id === h.id);\r\n          const hDates = hLogs.map(l => l.completed_date);\r\n          const schedule = h.days_of_week || [0, 1, 2, 3, 4, 5, 6];\r\n\r\n          // Calculate Streak ending at viewDate\r\n          let streak = 0;\r\n          let checkDate = new Date(viewDate);\r\n          checkDate.setHours(0, 0, 0, 0);\r\n\r\n          // Find the most recent scheduled day starting from today\r\n          while (!schedule.includes(checkDate.getDay())) {\r\n            checkDate.setDate(checkDate.getDate() - 1);\r\n          }\r\n\r\n          while (true) {\r\n            const str = toLocal(checkDate);\r\n            if (hDates.includes(str)) {\r\n              streak++;\r\n              // Move to previous scheduled day\r\n              do {\r\n                checkDate.setDate(checkDate.getDate() - 1);\r\n              } while (!schedule.includes(checkDate.getDay()));\r\n            } else {\r\n              // Streak might still be alive if checkDate is Today and it's not logged yet\r\n              const todayStr = toLocal(realToday);\r\n              if (str === todayStr) {\r\n                // Check if it was logged on the previous scheduled day\r\n                do {\r\n                  checkDate.setDate(checkDate.getDate() - 1);\r\n                } while (!schedule.includes(checkDate.getDay()));\r\n\r\n                const prevStr = toLocal(checkDate);\r\n                if (hDates.includes(prevStr)) {\r\n                  // Streak is still active from previous scheduled day\r\n                  continue;\r\n                } else {\r\n                  break;\r\n                }\r\n              } else {\r\n                break;\r\n              }\r\n            }\r\n          }\r\n\r\n          // Percentage for last 30 days\r\n          const thirtyDaysAgo = new Date(viewDate);\r\n          thirtyDaysAgo.setDate(viewDate.getDate() - 30);\r\n\r\n          let possibleRecent = 0;\r\n          let actualRecent = 0;\r\n          for (let i = 0; i < 30; i++) {\r\n            const d = new Date(viewDate);\r\n            d.setDate(viewDate.getDate() - i);\r\n            if (schedule.includes(d.getDay())) {\r\n              possibleRecent++;\r\n              const dStr = toLocal(d);\r\n              if (hDates.includes(dStr)) actualRecent++;\r\n            }\r\n          }\r\n\r\n          const pct = possibleRecent > 0 ? Math.round((actualRecent / possibleRecent) * 100) : 0;\r\n\r\n          return {\r\n            id: h.id,\r\n            name: h.name,\r\n            streak,\r\n            percentage: pct\r\n          };\r\n        });\r\n\r\n        habitsStats.sort((a, b) => b.percentage - a.percentage || b.streak - a.streak);\r\n        setTopHabits(habitsStats.slice(0, 3));\r\n\r\n      } catch (error: any) {\r\n        console.error('StatsSection fetchData error:', error.message || error);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n  }, [currentMonth]);\r\n\r\n  if (loading) {\r\n    return <div className=\"animate-pulse space-y-4\">\r\n      <div className=\"h-40 bg-accent/20 rounded-xl\" />\r\n      <div className=\"h-40 bg-accent/20 rounded-xl\" />\r\n    </div>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"flex flex-col gap-10 animate-fade-in px-1\" ref={sectionRef}>\r\n      {/* Overview Row */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n        <div className=\"flex flex-col\">\r\n          <h3 className=\"mobile-section-title\">Monthly Progress</h3>\r\n          <div className=\"glass-card p-8 flex flex-col items-center justify-center min-h-[240px]\">\r\n            <CircularProgress\r\n              percentage={monthlyStats.percentage}\r\n              size={140}\r\n              strokeWidth={12}\r\n              label=\"completed\"\r\n              sublabel=\"this month\"\r\n              isVisible={isSectionVisible}\r\n            />\r\n            <div className={cn(\r\n              \"flex items-center gap-2 mt-6 px-4 py-1.5 rounded-full text-xs font-bold tracking-wide transition-all duration-300\",\r\n              monthlyStats.trend >= 0 ? \"bg-success/10 text-success\" : \"bg-destructive/10 text-destructive\"\r\n            )}>\r\n              {monthlyStats.trend >= 0 ? <TrendingUp className=\"w-3.5 h-3.5\" /> : <TrendingDown className=\"w-3.5 h-3.5\" />}\r\n              <span>\r\n                {Math.abs(monthlyStats.trend)}% {monthlyStats.trend >= 0 ? 'increase' : 'decrease'}\r\n              </span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"flex flex-col\">\r\n          <h3 className=\"mobile-section-title\">Weekly Consistency</h3>\r\n          <div className=\"glass-card p-6 flex flex-col justify-center min-h-[240px]\">\r\n            <WeeklyChart data={weeklyData} isVisible={isSectionVisible} />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Top Habits Section */}\r\n      <div className=\"flex flex-col\">\r\n        <div className=\"flex items-center justify-between mb-0\">\r\n          <h3 className=\"mobile-section-title\">Top Performers</h3>\r\n          <Target className=\"w-4 h-4 text-muted-foreground/30 mb-4 mr-1\" />\r\n        </div>\r\n\r\n        <div className=\"grid gap-3\">\r\n          {topHabits.length === 0 ? (\r\n            <div className=\"glass-card p-8 text-center text-muted-foreground/50 italic text-sm\">\r\n              Keep tracking to see your top performing habits here.\r\n            </div>\r\n          ) : (\r\n            topHabits.map((habit, idx) => (\r\n              <div\r\n                key={habit.id}\r\n                className=\"glass-card p-5 flex items-center justify-between group transition-all duration-300 hover:scale-[1.02] active:scale-[0.98]\"\r\n                style={{ animationDelay: `${(idx + 1) * 100}ms` }}\r\n              >\r\n                <div className=\"flex items-center gap-4\">\r\n                  <div className=\"w-10 h-10 rounded-xl bg-accent/30 flex items-center justify-center text-lg font-black text-muted-foreground/20\">\r\n                    {idx + 1}\r\n                  </div>\r\n                  <div>\r\n                    <p className=\"text-base font-bold text-foreground/90\">{habit.name}</p>\r\n                    <div className=\"flex items-center gap-2 mt-0.5\">\r\n                      <div className=\"flex items-center gap-1 px-1.5 py-0.5 rounded bg-warning/10 text-warning text-[10px] font-bold uppercase tracking-wider\">\r\n                        <Flame className=\"w-3 h-3\" />\r\n                        <span>{habit.streak} DAY STREAK</span>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"text-right\">\r\n                  <div className={cn(\r\n                    \"text-2xl font-black tracking-tighter\",\r\n                    habit.percentage >= 80 ? \"text-success\" :\r\n                      habit.percentage >= 50 ? \"text-primary\" : \"text-muted-foreground/40\"\r\n                  )}>\r\n                    {habit.percentage}<span className=\"text-sm opacity-50 ml-0.5\">%</span>\r\n                  </div>\r\n                  <p className=\"text-[10px] uppercase font-bold text-muted-foreground/40 tracking-widest mt-0.5\">CONSISTENCY</p>\r\n                </div>\r\n              </div>\r\n            ))\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4178, "column": 0}, "map": {"version":3,"sources":["file:///D:/Jagdish/projects/habit-focus-main/src/services/ai.ts"],"sourcesContent":["\r\nimport { supabase } from '@/lib/supabase';\r\n\r\nexport interface AIInsight {\r\n    id: string;\r\n    title: string;\r\n    content: string;\r\n    type: 'pattern' | 'suggestion' | 'summary' | 'general';\r\n    created_at: string;\r\n}\r\n\r\nexport const aiService = {\r\n    // Fetch existing insights from the database\r\n    async getInsights(): Promise<AIInsight[]> {\r\n        const { data, error } = await supabase\r\n            .from('ai_insights')\r\n            .select('*')\r\n            .order('created_at', { ascending: false })\r\n            .limit(10);\r\n\r\n        if (error) {\r\n            console.error('Error fetching insights:', error);\r\n            throw error;\r\n        }\r\n\r\n        return data as AIInsight[];\r\n    },\r\n\r\n    // Trigger generation of new insights (calls Edge Function)\r\n    async generateInsights(): Promise<void> {\r\n        const { error } = await supabase.functions.invoke('ai-coach', {\r\n            body: {},\r\n        });\r\n\r\n        if (error) {\r\n            console.error('Error generating insights:', error);\r\n            throw error;\r\n        }\r\n    }\r\n};\r\n"],"names":[],"mappings":";;;;AACA;;AAUO,MAAM,YAAY;IACrB,4CAA4C;IAC5C,MAAM;QACF,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,qIAAQ,CACjC,IAAI,CAAC,eACL,MAAM,CAAC,KACP,KAAK,CAAC,cAAc;YAAE,WAAW;QAAM,GACvC,KAAK,CAAC;QAEX,IAAI,OAAO;YACP,QAAQ,KAAK,CAAC,4BAA4B;YAC1C,MAAM;QACV;QAEA,OAAO;IACX;IAEA,2DAA2D;IAC3D,MAAM;QACF,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,qIAAQ,CAAC,SAAS,CAAC,MAAM,CAAC,YAAY;YAC1D,MAAM,CAAC;QACX;QAEA,IAAI,OAAO;YACP,QAAQ,KAAK,CAAC,8BAA8B;YAC5C,MAAM;QACV;IACJ;AACJ"}},
    {"offset": {"line": 4214, "column": 0}, "map": {"version":3,"sources":["file:///D:/Jagdish/projects/habit-focus-main/src/services/profile.ts"],"sourcesContent":["\r\nimport { supabase } from '@/lib/supabase';\r\n\r\nexport interface Profile {\r\n    id: string;\r\n    is_pro: boolean;\r\n}\r\n\r\nexport const profileService = {\r\n    async getProfile(): Promise<Profile | null> {\r\n        const { data: { user } } = await supabase.auth.getUser();\r\n        if (!user) return null;\r\n\r\n        const { data, error } = await supabase\r\n            .from('profiles')\r\n            .select('*')\r\n            .eq('id', user.id)\r\n            .single();\r\n\r\n        if (error) {\r\n            console.error('Error fetching profile:', error);\r\n            return null;\r\n        }\r\n        return data;\r\n    },\r\n\r\n    async upgradeToPro(): Promise<void> {\r\n        // This would typically integrate with Stripe/Payment provider\r\n        // For now, we'll simulate it by updating the DB directly (if allowed)\r\n        // or rely on an external webhook.\r\n        // Ideally, this calls a backend function to Create Checkout Session.\r\n        const { data: { user } } = await supabase.auth.getUser();\r\n        if (!user) return;\r\n\r\n        const { error } = await supabase\r\n            .from('profiles')\r\n            .update({ is_pro: true })\r\n            .eq('id', user.id);\r\n\r\n        if (error) throw error;\r\n    }\r\n};\r\n"],"names":[],"mappings":";;;;AACA;;AAOO,MAAM,iBAAiB;IAC1B,MAAM;QACF,MAAM,EAAE,MAAM,EAAE,IAAI,EAAE,EAAE,GAAG,MAAM,qIAAQ,CAAC,IAAI,CAAC,OAAO;QACtD,IAAI,CAAC,MAAM,OAAO;QAElB,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,qIAAQ,CACjC,IAAI,CAAC,YACL,MAAM,CAAC,KACP,EAAE,CAAC,MAAM,KAAK,EAAE,EAChB,MAAM;QAEX,IAAI,OAAO;YACP,QAAQ,KAAK,CAAC,2BAA2B;YACzC,OAAO;QACX;QACA,OAAO;IACX;IAEA,MAAM;QACF,8DAA8D;QAC9D,sEAAsE;QACtE,kCAAkC;QAClC,qEAAqE;QACrE,MAAM,EAAE,MAAM,EAAE,IAAI,EAAE,EAAE,GAAG,MAAM,qIAAQ,CAAC,IAAI,CAAC,OAAO;QACtD,IAAI,CAAC,MAAM;QAEX,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,qIAAQ,CAC3B,IAAI,CAAC,YACL,MAAM,CAAC;YAAE,QAAQ;QAAK,GACtB,EAAE,CAAC,MAAM,KAAK,EAAE;QAErB,IAAI,OAAO,MAAM;IACrB;AACJ"}},
    {"offset": {"line": 4251, "column": 0}, "map": {"version":3,"sources":["file:///D:/Jagdish/projects/habit-focus-main/src/components/ai/AIInsightsCard.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useState } from 'react';\nimport { Lock, Sparkles, TrendingUp, AlertCircle, Calendar } from 'lucide-react';\nimport { Button } from '@/components/ui/button';\nimport { aiService, AIInsight } from '@/services/ai';\nimport { profileService, Profile } from '@/services/profile';\nexport const AIInsightsCard = () => {\n  const [profile, setProfile] = useState<Profile | null>(null);\n  const [latestInsights, setLatestInsights] = useState<AIInsight[]>([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const load = async () => {\n      try {\n        const userProfile = await profileService.getProfile();\n        setProfile(userProfile);\n\n        if (userProfile?.is_pro) {\n          const insights = await aiService.getInsights();\n          setLatestInsights(insights.slice(0, 3));\n        }\n      } catch (error) {\n        console.error(error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    load();\n  }, []);\n\n  const getIcon = (type: string) => {\n    switch (type) {\n      case 'pattern': return TrendingUp;\n      case 'suggestion': return AlertCircle;\n      case 'summary': return Calendar;\n      default: return Sparkles;\n    }\n  };\n\n  const isPro = profile?.is_pro;\n\n  if (loading) return null;\n\n  return (\n    <div className=\"glass-card p-4 sm:p-6 relative overflow-hidden animate-slide-up\" style={{ animationDelay: '200ms' }}>\n      <div className=\"flex items-center gap-2 mb-4\">\n        <Sparkles className=\"w-5 h-5 text-secondary\" />\n        <h3 className=\"text-lg font-semibold\">AI Insights</h3>\n        <span className=\"text-[10px] font-black px-2 py-0.5 rounded-full bg-secondary/20 text-secondary animate-pulse\">\n          COMING SOON\n        </span>\n        {isPro && (\n          <span className=\"text-xs px-2 py-0.5 rounded-full bg-secondary/20 text-secondary ml-auto\">\n            Pro Active\n          </span>\n        )}\n      </div>\n\n      <div className=\"relative\">\n        <div className={`space-y-3 ${!isPro ? 'locked-blur' : ''}`}>\n          {(isPro && latestInsights.length > 0 ? latestInsights : [\n            // Mock data for blur effect only\n            { type: 'pattern', title: 'Pattern Detected', content: 'Your workout completion drops 40% on Thursdays...' },\n            { type: 'suggestion', title: 'Suggested Adjustment', content: 'Consider moving meditation to morning hours...' },\n            { type: 'summary', title: 'Weekly Summary', content: 'You completed 73% of habits this week, up from...' }\n          ]).map((insight: any, idx) => {\n            const Icon = getIcon(insight.type);\n            return (\n              <div\n                key={idx}\n                className=\"p-4 rounded-lg bg-accent/50 border border-border/30\"\n              >\n                <div className=\"flex items-center gap-2 mb-2\">\n                  <Icon className=\"w-4 h-4 text-primary\" />\n                  <span className=\"text-sm font-medium\">{insight.title}</span>\n                </div>\n                <p className=\"text-sm text-muted-foreground line-clamp-2\">{insight.content}</p>\n              </div>\n            );\n          })}\n\n          {isPro && latestInsights.length === 0 && (\n            <div className=\"text-center p-4 text-muted-foreground text-sm\">\n              No insights generated yet. Visit the AI Coach tab to analyze your habits.\n            </div>\n          )}\n        </div>\n\n        {!isPro && (\n          <div className=\"absolute inset-0 z-20 flex flex-col items-center justify-center\">\n            <div className=\"w-14 h-14 rounded-full bg-background/80 backdrop-blur flex items-center justify-center mb-4 border border-border\">\n              <Lock className=\"w-6 h-6 text-muted-foreground\" />\n            </div>\n            <p className=\"text-sm text-muted-foreground text-center mb-4 px-4\">\n              Unlock personalized AI insights to optimize your habits\n            </p>\n            <Button\n              className=\"bg-secondary hover:bg-secondary/90 text-secondary-foreground\"\n              onClick={() => {\n                // In a real app this might open a modal, for now navigate or toast\n                // But AICoach view handles upgrades best\n                document.querySelector('[data-tab=\"ai-coach\"]')?.dispatchEvent(new MouseEvent('click', { bubbles: true }));\n                // Or just:\n                // navigate('/ai-coach'); // if we had routes\n              }}\n            >\n              Upgrade to Pro\n            </Button>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;;;AANA;;;;;;AAOO,MAAM,iBAAiB;;IAC5B,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAiB;IACvD,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,yKAAQ,EAAc,EAAE;IACpE,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IAEvC,IAAA,0KAAS;oCAAC;YACR,MAAM;iDAAO;oBACX,IAAI;wBACF,MAAM,cAAc,MAAM,+IAAc,CAAC,UAAU;wBACnD,WAAW;wBAEX,IAAI,aAAa,QAAQ;4BACvB,MAAM,WAAW,MAAM,qIAAS,CAAC,WAAW;4BAC5C,kBAAkB,SAAS,KAAK,CAAC,GAAG;wBACtC;oBACF,EAAE,OAAO,OAAO;wBACd,QAAQ,KAAK,CAAC;oBAChB,SAAU;wBACR,WAAW;oBACb;gBACF;;YACA;QACF;mCAAG,EAAE;IAEL,MAAM,UAAU,CAAC;QACf,OAAQ;YACN,KAAK;gBAAW,OAAO,mOAAU;YACjC,KAAK;gBAAc,OAAO,sOAAW;YACrC,KAAK;gBAAW,OAAO,yNAAQ;YAC/B;gBAAS,OAAO,yNAAQ;QAC1B;IACF;IAEA,MAAM,QAAQ,SAAS;IAEvB,IAAI,SAAS,OAAO;IAEpB,qBACE,6LAAC;QAAI,WAAU;QAAkE,OAAO;YAAE,gBAAgB;QAAQ;;0BAChH,6LAAC;gBAAI,WAAU;;kCACb,6LAAC,yNAAQ;wBAAC,WAAU;;;;;;kCACpB,6LAAC;wBAAG,WAAU;kCAAwB;;;;;;kCACtC,6LAAC;wBAAK,WAAU;kCAA+F;;;;;;oBAG9G,uBACC,6LAAC;wBAAK,WAAU;kCAA0E;;;;;;;;;;;;0BAM9F,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAI,WAAW,CAAC,UAAU,EAAE,CAAC,QAAQ,gBAAgB,IAAI;;4BACvD,CAAC,SAAS,eAAe,MAAM,GAAG,IAAI,iBAAiB;gCACtD,iCAAiC;gCACjC;oCAAE,MAAM;oCAAW,OAAO;oCAAoB,SAAS;gCAAoD;gCAC3G;oCAAE,MAAM;oCAAc,OAAO;oCAAwB,SAAS;gCAAiD;gCAC/G;oCAAE,MAAM;oCAAW,OAAO;oCAAkB,SAAS;gCAAoD;6BAC1G,EAAE,GAAG,CAAC,CAAC,SAAc;gCACpB,MAAM,OAAO,QAAQ,QAAQ,IAAI;gCACjC,qBACE,6LAAC;oCAEC,WAAU;;sDAEV,6LAAC;4CAAI,WAAU;;8DACb,6LAAC;oDAAK,WAAU;;;;;;8DAChB,6LAAC;oDAAK,WAAU;8DAAuB,QAAQ,KAAK;;;;;;;;;;;;sDAEtD,6LAAC;4CAAE,WAAU;sDAA8C,QAAQ,OAAO;;;;;;;mCAPrE;;;;;4BAUX;4BAEC,SAAS,eAAe,MAAM,KAAK,mBAClC,6LAAC;gCAAI,WAAU;0CAAgD;;;;;;;;;;;;oBAMlE,CAAC,uBACA,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAI,WAAU;0CACb,cAAA,6LAAC,6MAAI;oCAAC,WAAU;;;;;;;;;;;0CAElB,6LAAC;gCAAE,WAAU;0CAAsD;;;;;;0CAGnE,6LAAC,+IAAM;gCACL,WAAU;gCACV,SAAS;oCACP,mEAAmE;oCACnE,yCAAyC;oCACzC,SAAS,aAAa,CAAC,0BAA0B,cAAc,IAAI,WAAW,SAAS;wCAAE,SAAS;oCAAK;gCACvG,WAAW;gCACX,6CAA6C;gCAC/C;0CACD;;;;;;;;;;;;;;;;;;;;;;;;AAQb;GA3Ga;KAAA"}},
    {"offset": {"line": 4512, "column": 0}, "map": {"version":3,"sources":["file:///D:/Jagdish/projects/habit-focus-main/src/components/habits/CreateHabitDialog.tsx"],"sourcesContent":["\r\n'use client';\r\n\r\nimport { useState } from 'react';\r\nimport { useForm } from 'react-hook-form';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Dialog, DialogContent, DialogDescription, DialogFooter, DialogHeader, DialogTitle, DialogTrigger } from '@/components/ui/dialog';\r\nimport { Input } from '@/components/ui/input';\r\nimport { Label } from '@/components/ui/label';\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';\r\nimport { habitService, CreateHabitDTO } from '@/services/habits';\r\nimport { toast } from 'sonner';\r\nimport { Plus } from 'lucide-react';\r\n\r\ninterface CreateHabitDialogProps {\r\n    onHabitCreated: () => void;\r\n    isFab?: boolean;\r\n}\r\n\r\nexport const CreateHabitDialog = ({ onHabitCreated, isFab }: CreateHabitDialogProps) => {\r\n    const [open, setOpen] = useState(false);\r\n    const { register, handleSubmit, reset } = useForm<CreateHabitDTO>();\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    const onSubmit = async (data: any) => {\r\n        try {\r\n            setLoading(true);\r\n\r\n            // Map schedule to days_of_week\r\n            let daysOfWeek = [0, 1, 2, 3, 4, 5, 6];\r\n            const schedule = data.frequency || 'everyday';\r\n\r\n            if (schedule === 'weekdays') daysOfWeek = [1, 2, 3, 4, 5];\r\n            else if (schedule === 'weekends') daysOfWeek = [0, 6];\r\n            else if (schedule === 'sun') daysOfWeek = [0];\r\n            else if (schedule === 'mon') daysOfWeek = [1];\r\n            else if (schedule === 'tue') daysOfWeek = [2];\r\n            else if (schedule === 'wed') daysOfWeek = [3];\r\n            else if (schedule === 'thu') daysOfWeek = [4];\r\n            else if (schedule === 'fri') daysOfWeek = [5];\r\n            else if (schedule === 'sat') daysOfWeek = [6];\r\n\r\n            await habitService.createHabit({\r\n                name: data.name,\r\n                description: data.description,\r\n                color: data.color || '#6366F1',\r\n                frequency: 'daily', // keep as daily for base compatibility\r\n                days_of_week: daysOfWeek,\r\n                target_days: 1\r\n            });\r\n            toast.success('Habit created successfully');\r\n            setOpen(false);\r\n            reset();\r\n            onHabitCreated();\r\n        } catch (error) {\r\n            toast.error('Failed to create habit');\r\n            console.error(error);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <Dialog open={open} onOpenChange={setOpen}>\r\n            <DialogTrigger asChild>\r\n                {isFab ? (\r\n                    <Button className=\"w-14 h-14 rounded-full shadow-2xl shadow-primary/40 bg-primary hover:bg-primary/90 active:scale-90 transition-all p-0\">\r\n                        <Plus className=\"w-8 h-8\" />\r\n                    </Button>\r\n                ) : (\r\n                    <Button className=\"gap-2 bg-primary hover:bg-primary/90 rounded-xl px-5 h-11 font-bold shadow-lg shadow-primary/20\">\r\n                        <Plus className=\"w-4 h-4\" />\r\n                        <span className=\"hidden sm:inline\">Add Habit</span>\r\n                    </Button>\r\n                )}\r\n            </DialogTrigger>\r\n            <DialogContent className=\"sm:max-w-[425px]\">\r\n                <DialogHeader>\r\n                    <DialogTitle>Create New Habit</DialogTitle>\r\n                    <DialogDescription>\r\n                        Add a new habit to track daily.\r\n                    </DialogDescription>\r\n                </DialogHeader>\r\n                <form onSubmit={handleSubmit(onSubmit)} className=\"space-y-4 py-4\">\r\n                    <div className=\"space-y-2\">\r\n                        <Label htmlFor=\"name\">Habit Name</Label>\r\n                        <Input id=\"name\" placeholder=\"e.g. Morning Workout\" {...register('name', { required: true })} />\r\n                    </div>\r\n\r\n                    <div className=\"space-y-2\">\r\n                        <Label htmlFor=\"description\">Description (Optional)</Label>\r\n                        <Input\r\n                            id=\"description\"\r\n                            placeholder=\"e.g. 30 mins of cardio (Describe your goal for better AI assistance)\"\r\n                            {...register('description')}\r\n                        />\r\n                        <p className=\"text-[10px] text-muted-foreground opacity-70\">\r\n                            * Detailed descriptions help our AI Coach provide better insights.\r\n                        </p>\r\n                    </div>\r\n\r\n                    <div className=\"grid grid-cols-2 gap-4\">\r\n                        <div className=\"space-y-2\">\r\n                            <Label htmlFor=\"color\">Color</Label>\r\n                            <select\r\n                                id=\"color\"\r\n                                className=\"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\"\r\n                                {...register('color')}\r\n                            >\r\n                                <option value=\"#6366F1\">Indigo</option>\r\n                                <option value=\"#22C55E\">Green</option>\r\n                                <option value=\"#F43F5E\">Rose</option>\r\n                                <option value=\"#EAB308\">Yellow</option>\r\n                                <option value=\"#8B5CF6\">Purple</option>\r\n                                <option value=\"#06B6D4\">Cyan</option>\r\n                            </select>\r\n                        </div>\r\n\r\n                        <div className=\"space-y-2\">\r\n                            <Label htmlFor=\"schedule\">Schedule</Label>\r\n                            <select\r\n                                id=\"schedule\"\r\n                                className=\"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\"\r\n                                defaultValue=\"everyday\"\r\n                                {...register('frequency')}\r\n                            >\r\n                                <option value=\"everyday\">Everyday</option>\r\n                                <option value=\"weekdays\">Except Weekends (Mon-Fri)</option>\r\n                                <option value=\"weekends\">Except Weekdays (Sat-Sun)</option>\r\n                                <option value=\"mon\">Monday</option>\r\n                                <option value=\"tue\">Tuesday</option>\r\n                                <option value=\"wed\">Wednesday</option>\r\n                                <option value=\"thu\">Thursday</option>\r\n                                <option value=\"fri\">Friday</option>\r\n                                <option value=\"sat\">Saturday</option>\r\n                                <option value=\"sun\">Sunday</option>\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <DialogFooter>\r\n                        <Button type=\"submit\" className=\"w-full\" disabled={loading}>\r\n                            {loading ? 'Creating...' : 'Create Habit'}\r\n                        </Button>\r\n                    </DialogFooter>\r\n                </form>\r\n            </DialogContent>\r\n        </Dialog>\r\n    );\r\n};\r\n"],"names":[],"mappings":";;;;;AAGA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;;;AAXA;;;;;;;;;;AAkBO,MAAM,oBAAoB,CAAC,EAAE,cAAc,EAAE,KAAK,EAA0B;;IAC/E,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,yKAAQ,EAAC;IACjC,MAAM,EAAE,QAAQ,EAAE,YAAY,EAAE,KAAK,EAAE,GAAG,IAAA,4KAAO;IACjD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IAEvC,MAAM,WAAW,OAAO;QACpB,IAAI;YACA,WAAW;YAEX,+BAA+B;YAC/B,IAAI,aAAa;gBAAC;gBAAG;gBAAG;gBAAG;gBAAG;gBAAG;gBAAG;aAAE;YACtC,MAAM,WAAW,KAAK,SAAS,IAAI;YAEnC,IAAI,aAAa,YAAY,aAAa;gBAAC;gBAAG;gBAAG;gBAAG;gBAAG;aAAE;iBACpD,IAAI,aAAa,YAAY,aAAa;gBAAC;gBAAG;aAAE;iBAChD,IAAI,aAAa,OAAO,aAAa;gBAAC;aAAE;iBACxC,IAAI,aAAa,OAAO,aAAa;gBAAC;aAAE;iBACxC,IAAI,aAAa,OAAO,aAAa;gBAAC;aAAE;iBACxC,IAAI,aAAa,OAAO,aAAa;gBAAC;aAAE;iBACxC,IAAI,aAAa,OAAO,aAAa;gBAAC;aAAE;iBACxC,IAAI,aAAa,OAAO,aAAa;gBAAC;aAAE;iBACxC,IAAI,aAAa,OAAO,aAAa;gBAAC;aAAE;YAE7C,MAAM,4IAAY,CAAC,WAAW,CAAC;gBAC3B,MAAM,KAAK,IAAI;gBACf,aAAa,KAAK,WAAW;gBAC7B,OAAO,KAAK,KAAK,IAAI;gBACrB,WAAW;gBACX,cAAc;gBACd,aAAa;YACjB;YACA,oJAAK,CAAC,OAAO,CAAC;YACd,QAAQ;YACR;YACA;QACJ,EAAE,OAAO,OAAO;YACZ,oJAAK,CAAC,KAAK,CAAC;YACZ,QAAQ,KAAK,CAAC;QAClB,SAAU;YACN,WAAW;QACf;IACJ;IAEA,qBACI,6LAAC,+IAAM;QAAC,MAAM;QAAM,cAAc;;0BAC9B,6LAAC,sJAAa;gBAAC,OAAO;0BACjB,sBACG,6LAAC,+IAAM;oBAAC,WAAU;8BACd,cAAA,6LAAC,6MAAI;wBAAC,WAAU;;;;;;;;;;6EAGpB,6LAAC,+IAAM;oBAAC,WAAU;;sCACd,6LAAC,6MAAI;4BAAC,WAAU;;;;;;sCAChB,6LAAC;4BAAK,WAAU;sCAAmB;;;;;;;;;;;;;;;;;0BAI/C,6LAAC,sJAAa;gBAAC,WAAU;;kCACrB,6LAAC,qJAAY;;0CACT,6LAAC,oJAAW;0CAAC;;;;;;0CACb,6LAAC,0JAAiB;0CAAC;;;;;;;;;;;;kCAIvB,6LAAC;wBAAK,UAAU,aAAa;wBAAW,WAAU;;0CAC9C,6LAAC;gCAAI,WAAU;;kDACX,6LAAC,6IAAK;wCAAC,SAAQ;kDAAO;;;;;;kDACtB,6LAAC,6IAAK;wCAAC,IAAG;wCAAO,aAAY;wCAAwB,GAAG,SAAS,QAAQ;4CAAE,UAAU;wCAAK,EAAE;;;;;;;;;;;;0CAGhG,6LAAC;gCAAI,WAAU;;kDACX,6LAAC,6IAAK;wCAAC,SAAQ;kDAAc;;;;;;kDAC7B,6LAAC,6IAAK;wCACF,IAAG;wCACH,aAAY;wCACX,GAAG,SAAS,cAAc;;;;;;kDAE/B,6LAAC;wCAAE,WAAU;kDAA+C;;;;;;;;;;;;0CAKhE,6LAAC;gCAAI,WAAU;;kDACX,6LAAC;wCAAI,WAAU;;0DACX,6LAAC,6IAAK;gDAAC,SAAQ;0DAAQ;;;;;;0DACvB,6LAAC;gDACG,IAAG;gDACH,WAAU;gDACT,GAAG,SAAS,QAAQ;;kEAErB,6LAAC;wDAAO,OAAM;kEAAU;;;;;;kEACxB,6LAAC;wDAAO,OAAM;kEAAU;;;;;;kEACxB,6LAAC;wDAAO,OAAM;kEAAU;;;;;;kEACxB,6LAAC;wDAAO,OAAM;kEAAU;;;;;;kEACxB,6LAAC;wDAAO,OAAM;kEAAU;;;;;;kEACxB,6LAAC;wDAAO,OAAM;kEAAU;;;;;;;;;;;;;;;;;;kDAIhC,6LAAC;wCAAI,WAAU;;0DACX,6LAAC,6IAAK;gDAAC,SAAQ;0DAAW;;;;;;0DAC1B,6LAAC;gDACG,IAAG;gDACH,WAAU;gDACV,cAAa;gDACZ,GAAG,SAAS,YAAY;;kEAEzB,6LAAC;wDAAO,OAAM;kEAAW;;;;;;kEACzB,6LAAC;wDAAO,OAAM;kEAAW;;;;;;kEACzB,6LAAC;wDAAO,OAAM;kEAAW;;;;;;kEACzB,6LAAC;wDAAO,OAAM;kEAAM;;;;;;kEACpB,6LAAC;wDAAO,OAAM;kEAAM;;;;;;kEACpB,6LAAC;wDAAO,OAAM;kEAAM;;;;;;kEACpB,6LAAC;wDAAO,OAAM;kEAAM;;;;;;kEACpB,6LAAC;wDAAO,OAAM;kEAAM;;;;;;kEACpB,6LAAC;wDAAO,OAAM;kEAAM;;;;;;kEACpB,6LAAC;wDAAO,OAAM;kEAAM;;;;;;;;;;;;;;;;;;;;;;;;0CAKhC,6LAAC,qJAAY;0CACT,cAAA,6LAAC,+IAAM;oCAAC,MAAK;oCAAS,WAAU;oCAAS,UAAU;8CAC9C,UAAU,gBAAgB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOvD;GAlIa;;QAEiC,4KAAO;;;KAFxC"}},
    {"offset": {"line": 4991, "column": 0}, "map": {"version":3,"sources":["file:///D:/Jagdish/projects/habit-focus-main/src/components/views/DashboardView.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { HabitGrid } from '@/components/habits/HabitGrid';\r\nimport { HabitTrendsGraph } from '@/components/habits/HabitTrendsGraph';\r\nimport { StatsSection } from '@/components/stats/StatsSection';\r\nimport { AIInsightsCard } from '@/components/ai/AIInsightsCard';\r\nimport { CreateHabitDialog } from '@/components/habits/CreateHabitDialog';\r\nimport { habitService } from '@/services/habits';\r\nimport { useState } from 'react';\r\n\r\ninterface DashboardViewProps {\r\n  currentMonth: Date;\r\n  userCreatedAt: Date | null;\r\n}\r\n\r\nexport const DashboardView = ({ currentMonth, userCreatedAt }: DashboardViewProps) => {\r\n  const [refreshKey, setRefreshKey] = useState(0);\r\n\r\n  const handleHabitCreated = () => {\r\n    setRefreshKey(prev => prev + 1);\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex flex-col gap-10 pb-20\">\r\n      <div className=\"pt-4 px-2 flex items-center justify-between\">\r\n        <div />\r\n\r\n        <div className=\"hidden sm:block\">\r\n          <CreateHabitDialog onHabitCreated={handleHabitCreated} />\r\n        </div>\r\n      </div>\r\n\r\n      <section>\r\n        <HabitGrid key={refreshKey} currentMonth={currentMonth} userCreatedAt={userCreatedAt} />\r\n      </section>\r\n\r\n      <section>\r\n        <HabitTrendsGraph currentMonth={currentMonth} />\r\n      </section>\r\n\r\n      <div className=\"grid grid-cols-1 gap-12\">\r\n        <section>\r\n          <StatsSection currentMonth={currentMonth} />\r\n        </section>\r\n\r\n        <section>\r\n          <AIInsightsCard />\r\n        </section>\r\n      </div>\r\n\r\n      {/* Mobile Floating Action Button */}\r\n      <div className=\"fixed bottom-24 right-6 sm:hidden z-40\">\r\n        <CreateHabitDialog onHabitCreated={handleHabitCreated} isFab />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AAEA;;;AARA;;;;;;;AAeO,MAAM,gBAAgB,CAAC,EAAE,YAAY,EAAE,aAAa,EAAsB;;IAC/E,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,yKAAQ,EAAC;IAE7C,MAAM,qBAAqB;QACzB,cAAc,CAAA,OAAQ,OAAO;IAC/B;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;;;;;kCAED,6LAAC;wBAAI,WAAU;kCACb,cAAA,6LAAC,yKAAiB;4BAAC,gBAAgB;;;;;;;;;;;;;;;;;0BAIvC,6LAAC;0BACC,cAAA,6LAAC,yJAAS;oBAAkB,cAAc;oBAAc,eAAe;mBAAvD;;;;;;;;;;0BAGlB,6LAAC;0BACC,cAAA,6LAAC,uKAAgB;oBAAC,cAAc;;;;;;;;;;;0BAGlC,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;kCACC,cAAA,6LAAC,8JAAY;4BAAC,cAAc;;;;;;;;;;;kCAG9B,6LAAC;kCACC,cAAA,6LAAC,+JAAc;;;;;;;;;;;;;;;;0BAKnB,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC,yKAAiB;oBAAC,gBAAgB;oBAAoB,KAAK;;;;;;;;;;;;;;;;;AAIpE;GAzCa;KAAA"}},
    {"offset": {"line": 5141, "column": 0}, "map": {"version":3,"sources":["file:///D:/Jagdish/projects/habit-focus-main/src/components/views/HabitsView.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useEffect, useState } from 'react';\r\nimport { MoreVertical, Flame, Calendar, Edit2, Trash2, Info, X, Award, Activity } from 'lucide-react';\r\nimport { Button } from '@/components/ui/button';\r\nimport { cn } from '@/lib/utils';\r\nimport { habitService, Habit } from '@/services/habits';\r\nimport { logService } from '@/services/logs';\r\nimport { CreateHabitDialog } from '@/components/habits/CreateHabitDialog';\r\nimport { EditHabitDialog } from '@/components/habits/EditHabitDialog';\r\nimport { toast } from 'sonner';\r\nimport {\r\n  DropdownMenu,\r\n  DropdownMenuContent,\r\n  DropdownMenuItem,\r\n  DropdownMenuTrigger,\r\n} from \"@/components/ui/dropdown-menu\";\r\nimport {\r\n  AlertDialog,\r\n  AlertDialogAction,\r\n  AlertDialogCancel,\r\n  AlertDialogContent,\r\n  AlertDialogDescription,\r\n  AlertDialogFooter,\r\n  AlertDialogHeader,\r\n  AlertDialogTitle,\r\n} from \"@/components/ui/alert-dialog\";\r\n\r\nexport const HabitsView = () => {\r\n  const [habits, setHabits] = useState<Habit[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [editingHabit, setEditingHabit] = useState<Habit | null>(null);\r\n  const [deleteId, setDeleteId] = useState<string | null>(null);\r\n\r\n  const loadHabits = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const data = await habitService.getHabits();\r\n\r\n      // Refresh stats for habits that haven't been updated today\r\n      const now = new Date();\r\n      const todayStr = `${now.getFullYear()}-${String(now.getMonth() + 1).padStart(2, '0')}-${String(now.getDate()).padStart(2, '0')}`;\r\n\r\n      await Promise.all(data.map(async (habit) => {\r\n        // Force refresh if stats were never calculated (0) or if it's a new day\r\n        if (habit.last_updated_date !== todayStr || (habit.highest_streak === 0 && habit.completed_count > 0)) {\r\n          console.log(`Refreshing stats for: ${habit.name}`);\r\n          await habitService.refreshHabitStats(habit.id);\r\n        }\r\n      }));\r\n\r\n      // Re-fetch to get fresh stats\r\n      const freshData = await habitService.getHabits();\r\n      setHabits(freshData);\r\n    } catch (error) {\r\n      console.error(error);\r\n      toast.error('Failed to load habits');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    loadHabits();\r\n  }, []);\r\n\r\n  const handleDelete = async () => {\r\n    if (!deleteId) return;\r\n    try {\r\n      await habitService.deleteHabit(deleteId);\r\n      toast.success('Habit deleted');\r\n      loadHabits();\r\n    } catch (error) {\r\n      toast.error('Failed to delete habit');\r\n    } finally {\r\n      setDeleteId(null);\r\n    }\r\n  };\r\n\r\n  const getScheduleLabel = (days: number[]) => {\r\n    if (!days || days.length === 7) return 'Everyday';\r\n    if (days.length === 5 && !days.includes(0) && !days.includes(6)) return 'Weekdays';\r\n    if (days.length === 2 && days.includes(0) && days.includes(6)) return 'Weekends';\r\n\r\n    const dayMap: { [key: number]: string } = { 0: 'Sun', 1: 'Mon', 2: 'Tue', 3: 'Wed', 4: 'Thu', 5: 'Fri', 6: 'Sat' };\r\n    return days.map(d => dayMap[d]).join(', ');\r\n  };\r\n\r\n  const getColorClass = (color: string) => {\r\n    if (color === '#6366F1' || color === 'primary') return 'bg-primary';\r\n    if (color === '#22C55E' || color === 'success') return 'bg-success';\r\n    if (color === '#F43F5E' || color === 'secondary') return 'bg-secondary';\r\n    if (color === '#EAB308' || color === 'warning') return 'bg-warning';\r\n    return 'bg-primary';\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-6 sm:space-y-8 max-w-2xl mx-auto px-1 sm:px-0\">\r\n      <div className=\"flex items-center justify-between px-1 mb-2\">\r\n        <div>\r\n          <h1 className=\"text-2xl sm:text-3xl font-bold tracking-tight mb-1\">Your Habits</h1>\r\n          <p className=\"text-muted-foreground text-sm sm:text-base opacity-80\">Track and manage your routines</p>\r\n        </div>\r\n        <CreateHabitDialog onHabitCreated={loadHabits} />\r\n      </div>\r\n\r\n      <div className=\"grid gap-4\">\r\n        {loading ? (\r\n          <div className=\"text-center p-12 glass-card\">Loading habits...</div>\r\n        ) : habits.length === 0 ? (\r\n          <div className=\"glass-card p-12 text-center text-muted-foreground\">\r\n            <div className=\"mb-4 flex justify-center\">\r\n              <div className=\"w-16 h-16 rounded-3xl bg-accent/20 flex items-center justify-center\">\r\n                <Calendar className=\"w-8 h-8 opacity-20\" />\r\n              </div>\r\n            </div>\r\n            <p>You haven't created any habits yet.</p>\r\n            <p className=\"text-sm\">Click \"Add Habit\" to get started!</p>\r\n          </div>\r\n        ) : (\r\n          habits.map((habit, idx) => (\r\n            <div\r\n              key={habit.id}\r\n              className=\"glass-card p-5 animate-fade-in group active:scale-[0.98] transition-all\"\r\n              style={{ animationDelay: `${idx * 50}ms` }}\r\n            >\r\n              <div className=\"flex items-start justify-between\">\r\n                <div className=\"flex gap-4\">\r\n                  <div\r\n                    className={cn('w-12 h-12 rounded-2xl flex items-center justify-center shrink-0 shadow-lg', getColorClass(habit.color))}\r\n                    style={{ backgroundColor: habit.color.startsWith('#') ? habit.color : undefined }}\r\n                  >\r\n                    <span className=\"text-white font-bold text-xl\">{habit.name.charAt(0).toUpperCase()}</span>\r\n                  </div>\r\n                  <div>\r\n                    <h3 className=\"font-bold text-lg leading-tight group-hover:text-primary transition-colors\">{habit.name}</h3>\r\n                    {habit.description && (\r\n                      <p className=\"text-sm text-muted-foreground mt-1 line-clamp-2\">{habit.description}</p>\r\n                    )}\r\n                    <div className=\"flex flex-wrap items-center gap-x-4 gap-y-1.5 mt-3\">\r\n                      <div className=\"flex items-center gap-1.5 text-xs font-semibold text-muted-foreground/60\">\r\n                        <Calendar className=\"w-3.5 h-3.5\" />\r\n                        <span>{getScheduleLabel(habit.days_of_week)}</span>\r\n                      </div>\r\n                      <div className=\"flex items-center gap-1.5 text-xs font-semibold text-warning/70\">\r\n                        <Flame className=\"w-3.5 h-3.5\" />\r\n                        <span>{habit.current_streak} Day Streak</span>\r\n                      </div>\r\n                      <div className=\"flex items-center gap-1.5 text-xs font-semibold text-destructive/60\">\r\n                        <X className=\"w-3.5 h-3.5\" />\r\n                        <span>{habit.missed_count} Missed</span>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div className=\"flex items-center gap-4 mt-2 pt-2 border-t border-white/5\">\r\n                      <div className=\"text-[10px] font-bold text-muted-foreground/30 uppercase tracking-wider flex items-center gap-1\">\r\n                        <Award className=\"w-3 h-3\" />\r\n                        <span>Best: {habit.highest_streak}d</span>\r\n                      </div>\r\n                      <div className=\"text-[10px] font-bold text-muted-foreground/30 uppercase tracking-wider flex items-center gap-1\">\r\n                        <Activity className=\"w-3 h-3\" />\r\n                        <span>Slump: {habit.highest_miss_streak}d</span>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <DropdownMenu>\r\n                  <DropdownMenuTrigger asChild>\r\n                    <Button variant=\"ghost\" size=\"icon\" className=\"h-10 w-10 -mr-2 rounded-xl hover:bg-white/5\">\r\n                      <MoreVertical className=\"w-5 h-5 text-muted-foreground/40\" />\r\n                    </Button>\r\n                  </DropdownMenuTrigger>\r\n                  <DropdownMenuContent align=\"end\" className=\"w-40 rounded-2xl p-2 border-white/10 bg-card/95 backdrop-blur-xl\">\r\n                    <DropdownMenuItem onClick={() => setEditingHabit(habit)} className=\"rounded-xl py-2.5 gap-3\">\r\n                      <Edit2 className=\"w-4 h-4\" />\r\n                      Edit Habit\r\n                    </DropdownMenuItem>\r\n                    <DropdownMenuItem onClick={() => setDeleteId(habit.id)} className=\"text-destructive focus:text-destructive focus:bg-destructive/10 rounded-xl py-2.5 gap-3\">\r\n                      <Trash2 className=\"w-4 h-4\" />\r\n                      Delete\r\n                    </DropdownMenuItem>\r\n                  </DropdownMenuContent>\r\n                </DropdownMenu>\r\n              </div>\r\n            </div>\r\n          ))\r\n        )}\r\n      </div>\r\n\r\n      {editingHabit && (\r\n        <EditHabitDialog\r\n          habit={editingHabit}\r\n          open={!!editingHabit}\r\n          onOpenChange={(open) => !open && setEditingHabit(null)}\r\n          onHabitUpdated={loadHabits}\r\n        />\r\n      )}\r\n\r\n      <AlertDialog open={!!deleteId} onOpenChange={(open) => !open && setDeleteId(null)}>\r\n        <AlertDialogContent className=\"rounded-3xl border-white/10\">\r\n          <AlertDialogHeader>\r\n            <AlertDialogTitle>Delete Habit</AlertDialogTitle>\r\n            <AlertDialogDescription>\r\n              Are you sure you want to delete this habit? All progress data will be permanently removed.\r\n            </AlertDialogDescription>\r\n          </AlertDialogHeader>\r\n          <AlertDialogFooter className=\"gap-2\">\r\n            <AlertDialogCancel className=\"rounded-2xl\">Cancel</AlertDialogCancel>\r\n            <AlertDialogAction onClick={handleDelete} className=\"bg-destructive hover:bg-destructive/90 rounded-2xl\">Delete</AlertDialogAction>\r\n          </AlertDialogFooter>\r\n        </AlertDialogContent>\r\n      </AlertDialog>\r\n    </div>\r\n  );\r\n};\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 5733, "column": 0}, "map": {"version":3,"sources":["file:///D:/Jagdish/projects/habit-focus-main/src/components/views/AnalyticsView.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport { TrendingUp, Target, Flame, Award, Calendar, BarChart2, Activity, Layers, XCircle } from 'lucide-react';\nimport { CircularProgress } from '@/components/stats/CircularProgress';\nimport { cn } from '@/lib/utils';\nimport { habitService, Habit } from '@/services/habits';\nimport { logService } from '@/services/logs';\nimport { ResponsiveContainer, AreaChart, Area, XAxis, YAxis, Tooltip, CartesianGrid, LineChart, Line, Legend } from 'recharts';\n\ninterface AnalyticsViewProps {\n  userCreatedAt: Date | null;\n}\n\nexport const AnalyticsView = ({ userCreatedAt }: AnalyticsViewProps) => {\n  const [loading, setLoading] = useState(true);\n  const [habits, setHabits] = useState<Habit[]>([]);\n  const [stats, setStats] = useState([\n    { label: 'Active Habits', value: '0', icon: Target },\n    { label: 'Completion', value: '0%', icon: TrendingUp },\n    { label: 'Streak', value: '0', icon: Flame },\n    { label: 'Missed', value: '0', icon: XCircle },\n  ]);\n  const [monthlyData, setMonthlyData] = useState<{ month: string, value: number }[]>([]);\n  const [weeklyOverview, setWeeklyOverview] = useState<{ week: string, value: number }[]>([]);\n  const [dailyTrendData, setDailyTrendData] = useState<{ date: string; completions: number }[]>([]);\n  const [comparisonData, setComparisonData] = useState<any[]>([]);\n  const [dayStats, setDayStats] = useState<{\n    mostActive: { day: string; value: number };\n  }>({\n    mostActive: { day: '-', value: 0 },\n  });\n  const [visibleHabits, setVisibleHabits] = useState<Set<string>>(new Set());\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        setLoading(true);\n        const habitsData = await habitService.getHabits();\n        setHabits(habitsData);\n        const today = new Date();\n\n        const rangeStart = new Date();\n        rangeStart.setMonth(today.getMonth() - 4);\n        rangeStart.setDate(1);\n\n        if (userCreatedAt && userCreatedAt > rangeStart) {\n          rangeStart.setTime(userCreatedAt.getTime());\n        }\n\n        const logs = await logService.getLogs(rangeStart, today);\n        const totalHabits = habitsData.length;\n\n        const toLocal = (d: Date) => {\n          const year = d.getFullYear();\n          const month = String(d.getMonth() + 1).padStart(2, '0');\n          const day = String(d.getDate()).padStart(2, '0');\n          return `${year}-${month}-${day}`;\n        };\n\n        // Avg Completion (Current Month)\n        const currentMonthLogs = logs.filter(l => {\n          const d = new Date(l.completed_date);\n          return d.getMonth() === today.getMonth() && d.getFullYear() === today.getFullYear();\n        });\n        const daysInCurrentMonth = today.getDate();\n        const possibleCompletions = totalHabits * daysInCurrentMonth;\n        const currentCompletionRate = possibleCompletions > 0\n          ? Math.round((currentMonthLogs.length / possibleCompletions) * 100)\n          : 0;\n\n        // Streaks\n        const uniqueDates = Array.from(new Set(logs.map(l => l.completed_date))).sort();\n        let currentStreak = 0;\n        const todayStr = toLocal(new Date());\n        if (uniqueDates.includes(todayStr)) currentStreak = 1;\n\n        let tempDate = new Date();\n        tempDate.setDate(tempDate.getDate() - 1);\n        while (true) {\n          const dateStr = toLocal(tempDate);\n          if (uniqueDates.includes(dateStr)) {\n            currentStreak++;\n            tempDate.setDate(tempDate.getDate() - 1);\n          } else {\n            break;\n          }\n        }\n\n        let bestStreak = 0;\n        let running = 0;\n        const sortedTimestamps = uniqueDates.map(d => new Date(d).getTime()).sort((a, b) => a - b);\n        let lastTs = 0;\n\n        sortedTimestamps.forEach(ts => {\n          if (lastTs === 0) running = 1;\n          else {\n            const dayDiff = Math.abs(Math.round((ts - lastTs) / (1000 * 60 * 60 * 24)));\n            if (dayDiff === 1) running++;\n            else running = 1;\n          }\n          if (running > bestStreak) bestStreak = running;\n          lastTs = ts;\n        });\n        if (currentStreak > bestStreak) bestStreak = currentStreak;\n\n        const totalMissed = habitsData.reduce((acc, h) => acc + (h.missed_count || 0), 0);\n\n        setStats([\n          { label: 'Active Habits', value: totalHabits.toString(), icon: Target },\n          { label: 'Completion', value: `${currentCompletionRate}%`, icon: TrendingUp },\n          { label: 'Streak', value: currentStreak.toString(), icon: Flame },\n          { label: 'Missed', value: totalMissed.toString(), icon: XCircle },\n        ]);\n\n        // Monthly Progress\n        const last4Months = [];\n        for (let i = 3; i >= 0; i--) {\n          const d = new Date();\n          d.setDate(1);\n          d.setMonth(today.getMonth() - i);\n          const monthIdx = d.getMonth();\n          const year = d.getFullYear();\n          const monthName = d.toLocaleString('default', { month: 'short' });\n\n          const mLogs = logs.filter(l => {\n            const ld = new Date(l.completed_date);\n            return ld.getMonth() === monthIdx && ld.getFullYear() === year;\n          });\n\n          let effectiveStartDay = 1;\n          if (userCreatedAt && userCreatedAt.getMonth() === monthIdx && userCreatedAt.getFullYear() === year) {\n            effectiveStartDay = userCreatedAt.getDate();\n          }\n\n          const daysInM = new Date(year, monthIdx + 1, 0).getDate();\n          let endDay = i === 0 ? today.getDate() : daysInM;\n          const activeDays = Math.max(0, endDay - effectiveStartDay + 1);\n\n          const possible = totalHabits * activeDays;\n          const value = possible > 0 ? Math.round((mLogs.length / possible) * 100) : 0;\n          last4Months.push({ month: monthName, value });\n        }\n        setMonthlyData(last4Months);\n\n        // Weekly Overview (Calendar Weeks: Mon - Sun)\n        const last4Weeks = [];\n        const dayOfWeek = today.getDay(); // 0(Sun) to 6(Sat)\n        const daysSinceMonday = dayOfWeek === 0 ? 6 : dayOfWeek - 1;\n\n        for (let i = 3; i >= 0; i--) {\n          const mondayOfTargetWeek = new Date(today);\n          mondayOfTargetWeek.setDate(today.getDate() - daysSinceMonday - (i * 7));\n          mondayOfTargetWeek.setHours(0, 0, 0, 0);\n\n          const sundayOfTargetWeek = new Date(mondayOfTargetWeek);\n          sundayOfTargetWeek.setDate(mondayOfTargetWeek.getDate() + 6);\n          sundayOfTargetWeek.setHours(23, 59, 59, 999);\n\n          const wLogs = logs.filter(l => {\n            const ld = new Date(l.completed_date);\n            return ld >= mondayOfTargetWeek && ld <= sundayOfTargetWeek;\n          });\n\n          let totalPossible = 0;\n          habitsData.forEach(h => {\n             const schedule = (h.days_of_week && h.days_of_week.length > 0) ? h.days_of_week : [0, 1, 2, 3, 4, 5, 6];\n            // If it's a past week, count all scheduled days in that week\n            // If it's the current week, only count scheduled days up to today\n            const endDayInWeek = i === 0 ? daysSinceMonday : 6;\n\n            for (let d = 0; d <= endDayInWeek; d++) {\n              const checkDate = new Date(mondayOfTargetWeek);\n              checkDate.setDate(mondayOfTargetWeek.getDate() + d);\n              if (schedule.includes(checkDate.getDay())) {\n                totalPossible++;\n              }\n            }\n          });\n\n          const value = totalPossible > 0 ? Math.round((wLogs.length / totalPossible) * 100) : 0;\n          last4Weeks.push({\n            week: i === 0 ? 'Now' : `W-${i}`,\n            value,\n            isCurrent: i === 0\n          });\n        }\n        setWeeklyOverview(last4Weeks.reverse());\n\n        // DAILY Aggregate (30 Days)\n        const dailyAgg = [];\n        for (let i = 29; i >= 0; i--) {\n          const d = new Date(today);\n          d.setDate(today.getDate() - i);\n          const dStr = toLocal(d);\n          const completions = logs.filter(l => l.completed_date === dStr).length;\n          dailyAgg.push({ date: d.toLocaleDateString('en-US', { day: 'numeric' }), completions });\n        }\n        setDailyTrendData(dailyAgg);\n\n        // Comparison Data (30 Days, Rolling)\n        const compData = [];\n        for (let i = 29; i >= 0; i--) {\n          const targetDate = new Date(today);\n          targetDate.setDate(today.getDate() - i);\n          const entry: any = { date: targetDate.toLocaleDateString('en-US', { day: 'numeric' }) };\n\n          habitsData.forEach(h => {\n            let completionsInWindow = 0;\n            let possibleInWindow = 0;\n            const schedule = (h.days_of_week && h.days_of_week.length > 0) ? h.days_of_week : [0, 1, 2, 3, 4, 5, 6];\n\n            for (let j = 0; j < 7; j++) {\n              const checkDate = new Date(targetDate);\n              checkDate.setDate(targetDate.getDate() - j);\n              const checkStr = toLocal(checkDate);\n              if (schedule.includes(checkDate.getDay())) {\n                possibleInWindow++;\n                if (logs.some(l => l.habit_id === h.id && l.completed_date === checkStr)) {\n                  completionsInWindow++;\n                }\n              }\n            }\n            entry[h.name] = possibleInWindow > 0 ? Math.round((completionsInWindow / possibleInWindow) * 100) : 0;\n          });\n          compData.push(entry);\n        }\n        setComparisonData(compData);\n\n        // Calculate performance to set default visibility\n        if (habitsData.length > 0) {\n          const performances = habitsData.map(h => {\n            let completions = 0;\n            let possible = 0;\n            const schedule = (h.days_of_week && h.days_of_week.length > 0) ? h.days_of_week : [0, 1, 2, 3, 4, 5, 6];\n            for (let i = 0; i < 30; i++) {\n              const d = new Date(today);\n              d.setDate(today.getDate() - i);\n              if (schedule.includes(d.getDay())) {\n                possible++;\n                if (logs.some(l => l.habit_id === h.id && l.completed_date === toLocal(d))) {\n                  completions++;\n                }\n              }\n            }\n            return { name: h.name, rate: possible > 0 ? completions / possible : 0 };\n          });\n\n          performances.sort((a, b) => b.rate - a.rate);\n          const top = performances[0].name;\n          const worst = performances[performances.length - 1].name;\n\n          const defaultVisible = new Set<string>();\n          defaultVisible.add(top);\n          if (top !== worst) {\n            defaultVisible.add(worst);\n          }\n          setVisibleHabits(defaultVisible);\n        }\n\n        // Day stats\n        const daysMap = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];\n        const dayCounts = new Array(7).fill(0);\n        logs.forEach(l => dayCounts[new Date(l.completed_date).getDay()]++);\n        const mostActiveIdx = dayCounts.indexOf(Math.max(...dayCounts));\n        setDayStats({ mostActive: { day: daysMap[mostActiveIdx], value: dayCounts[mostActiveIdx] } });\n\n      } catch (error) {\n        console.error(\"Failed to load analytics\", error);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchData();\n  }, [userCreatedAt]);\n\n  if (loading) {\n    return (\n      <div className=\"p-10 flex flex-col items-center justify-center gap-4 text-muted-foreground\">\n        <Activity className=\"w-10 h-10 animate-pulse opacity-20\" />\n        <p className=\"text-sm font-medium opacity-40 uppercase tracking-widest\">Crunching data...</p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"max-w-4xl mx-auto space-y-6 pb-20 px-4\">\n      <header className=\"flex items-center justify-between pt-4\">\n        <div>\n          <h1 className=\"text-2xl font-semibold tracking-tight\">Analytics</h1>\n          <p className=\"text-xs text-muted-foreground opacity-60\">Insights & Trends</p>\n        </div>\n        <Activity className=\"w-5 h-5 text-primary opacity-40\" />\n      </header>\n\n      {/* Summary Chips */}\n      <div className=\"grid grid-cols-2 md:grid-cols-4 gap-3\">\n        {stats.map((stat, idx) => (\n          <div key={idx} className=\"glass-card p-4 flex flex-col gap-1 border-white/10\">\n            <div className=\"flex items-center justify-between\">\n              <span className=\"text-[10px] font-medium text-muted-foreground uppercase tracking-wider\">{stat.label}</span>\n              <stat.icon className=\"w-3 h-3 text-primary/40\" />\n            </div>\n            <span className=\"text-xl font-semibold\">{stat.value}</span>\n          </div>\n        ))}\n      </div>\n\n      {/* Primary Insights Row */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n        {/* Weekly Progress */}\n        <div className=\"glass-card p-6 flex flex-col gap-6\">\n          <h3 className=\"text-xs font-medium text-muted-foreground uppercase tracking-widest\">Weekly Consistency</h3>\n          <div className=\"flex items-center justify-around gap-2 py-2\">\n            {weeklyOverview.map((item: any, idx) => {\n              const isCurrent = item.isCurrent;\n              return (\n                <div key={idx} className=\"flex flex-col items-center gap-3\">\n                  <div className={cn(\n                    \"relative transition-transform duration-500\",\n                    isCurrent && \"scale-110\"\n                  )}>\n                    <CircularProgress\n                      percentage={item.value}\n                      size={isCurrent ? 72 : 52}\n                      strokeWidth={isCurrent ? 8 : 4}\n                      className={isCurrent ? \"drop-shadow-[0_0_10px_rgba(var(--primary),0.3)]\" : \"\"}\n                    />\n                    {isCurrent && (\n                      <div className=\"absolute -top-1 -right-1 w-3 h-3 bg-primary rounded-full border-2 border-background animate-pulse\" />\n                    )}\n                  </div>\n                  <span className={cn(\n                    \"text-[10px] font-bold tracking-tight transition-colors\",\n                    isCurrent ? \"text-primary uppercase\" : \"text-muted-foreground/30\"\n                  )}>\n                    {item.week}\n                  </span>\n                </div>\n              );\n            })}\n          </div>\n        </div>\n\n        {/* Aggregate Output */}\n        <div className=\"glass-card p-6 flex flex-col gap-4\">\n          <div className=\"flex items-center justify-between\">\n            <h3 className=\"text-xs font-medium text-muted-foreground uppercase tracking-widest\">Daily Output</h3>\n            <span className=\"text-[9px] bg-white/5 px-2 py-0.5 rounded text-muted-foreground/60\">30D</span>\n          </div>\n          <div className=\"h-32 w-full\">\n            <ResponsiveContainer width=\"100%\" height=\"100%\">\n              <AreaChart data={dailyTrendData}>\n                <defs>\n                  <linearGradient id=\"glow\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\n                    <stop offset=\"5%\" stopColor=\"hsl(var(--primary))\" stopOpacity={0.2} />\n                    <stop offset=\"95%\" stopColor=\"hsl(var(--primary))\" stopOpacity={0} />\n                  </linearGradient>\n                </defs>\n                <CartesianGrid vertical={false} stroke=\"rgba(255,255,255,0.02)\" />\n                <XAxis dataKey=\"date\" hide />\n                <YAxis hide />\n                <Tooltip\n                  contentStyle={{\n                    backgroundColor: 'rgba(0,0,0,0.8)',\n                    border: 'none',\n                    borderRadius: '8px',\n                    fontSize: '10px'\n                  }}\n                />\n                <Area type=\"monotone\" dataKey=\"completions\" stroke=\"hsl(var(--primary))\" strokeWidth={2} fill=\"url(#glow)\" />\n              </AreaChart>\n            </ResponsiveContainer>\n          </div>\n        </div>\n      </div>\n\n      {/* Comparison (Detailed) */}\n      <div className=\"glass-card p-6 space-y-6\">\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center gap-2\">\n            <Layers className=\"w-4 h-4 text-primary/60\" />\n            <h3 className=\"text-xs font-medium text-muted-foreground uppercase tracking-widest\">Habit Comparison</h3>\n          </div>\n          <p className=\"text-[9px] text-muted-foreground/30 italic\">7D Rolling Avg</p>\n        </div>\n\n        <div className=\"h-64 w-full\">\n          <ResponsiveContainer width=\"100%\" height=\"100%\">\n            <LineChart data={comparisonData} margin={{ top: 0, right: 10, left: 10, bottom: 0 }}>\n              <CartesianGrid vertical={false} stroke=\"rgba(255,255,255,0.03)\" />\n              <XAxis dataKey=\"date\" axisLine={false} tickLine={false} tick={{ fontSize: 9, opacity: 0.3 }} minTickGap={20} />\n              <YAxis hide domain={[0, 100]} />\n              <Tooltip\n                contentStyle={{\n                  backgroundColor: 'rgba(0,0,0,0.9)',\n                  border: '1px solid rgba(255,255,255,0.1)',\n                  borderRadius: '12px',\n                  fontSize: '10px',\n                  backdropFilter: 'blur(8px)'\n                }}\n              />\n              <Legend\n                verticalAlign=\"bottom\"\n                height={36}\n                iconType=\"circle\"\n                wrapperStyle={{ fontSize: 9, paddingTop: 10, cursor: 'pointer' }}\n                formatter={(value: string) => (\n                  <span className={visibleHabits.has(value) ? \"opacity-100\" : \"opacity-30 transition-opacity\"}>\n                    {value}\n                  </span>\n                )}\n                onClick={(e: any) => {\n                  const name = e.value;\n                  const nextVisible = new Set(visibleHabits);\n                  if (nextVisible.has(name)) {\n                    // Don't allow deselecting last one\n                    if (nextVisible.size > 1) {\n                      nextVisible.delete(name);\n                    }\n                  } else {\n                    nextVisible.add(name);\n                  }\n                  setVisibleHabits(nextVisible);\n                }}\n              />\n              {habits.map((h, i) => (\n                <Line\n                  key={i}\n                  type=\"monotone\"\n                  dataKey={h.name}\n                  stroke={h.color}\n                  strokeWidth={2}\n                  dot={false}\n                  activeDot={{ r: 4 }}\n                  hide={!visibleHabits.has(h.name)}\n                />\n              ))}\n            </LineChart>\n          </ResponsiveContainer>\n        </div>\n      </div>\n\n      {/* Secondary Data */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n        <div className=\"glass-card p-5 flex flex-col gap-4\">\n          <h3 className=\"text-xs font-medium text-muted-foreground uppercase tracking-widest\">Monthly History</h3>\n          <div className=\"flex items-end justify-between gap-2 h-24 px-2\">\n            {monthlyData.map((item, idx) => (\n              <div key={idx} className=\"flex-1 flex flex-col items-center gap-2\">\n                <div className=\"w-full bg-white/5 rounded-sm relative h-16 overflow-hidden\">\n                  <div\n                    className=\"absolute bottom-0 left-0 right-0 bg-primary/20 transition-all duration-700\"\n                    style={{ height: `${item.value}%` }}\n                  />\n                </div>\n                <span className=\"text-[9px] font-medium opacity-40\">{item.month}</span>\n              </div>\n            ))}\n          </div>\n        </div>\n\n        <div className=\"glass-card p-5 flex items-center justify-between border-primary/10\">\n          <div className=\"flex flex-col gap-1\">\n            <h3 className=\"text-xs font-medium text-muted-foreground uppercase tracking-widest\">Peak Day</h3>\n            <span className=\"text-2xl font-semibold\">{dayStats.mostActive.day}</span>\n            <p className=\"text-[10px] text-muted-foreground/40\">{dayStats.mostActive.value} completions</p>\n          </div>\n          <div className=\"w-12 h-12 rounded-full border border-primary/20 flex items-center justify-center\">\n            <Calendar className=\"w-5 h-5 text-primary/40\" />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 6781, "column": 0}, "map": {"version":3,"sources":["file:///D:/Jagdish/projects/habit-focus-main/src/components/views/AICoachView.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useState } from 'react';\nimport { Lock, Sparkles, TrendingUp, AlertCircle, Calendar, Crown, Check, RefreshCw } from 'lucide-react';\nimport { Button } from '@/components/ui/button';\nimport { aiService, AIInsight } from '@/services/ai';\nimport { profileService, Profile } from '@/services/profile';\nimport { toast } from 'sonner';\n\nconst features = [\n  'Personalized habit recommendations',\n  'Pattern detection and insights',\n  'Weekly AI-generated summaries',\n  'Optimal scheduling suggestions',\n  'Behavior prediction',\n  'Goal achievement strategies',\n];\n\nexport const AICoachView = () => {\n  const [profile, setProfile] = useState<Profile | null>(null);\n  const [insights, setInsights] = useState<AIInsight[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [generating, setGenerating] = useState(false);\n\n  useEffect(() => {\n    loadData();\n  }, []);\n\n  const loadData = async () => {\n    try {\n      setLoading(true);\n      const userProfile = await profileService.getProfile();\n      setProfile(userProfile);\n\n      if (userProfile?.is_pro) {\n        const data = await aiService.getInsights();\n        setInsights(data);\n      }\n    } catch (error) {\n      console.error(error);\n      toast.error('Failed to load AI Coach data');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleUpgrade = async () => {\n    try {\n      await profileService.upgradeToPro();\n      toast.success('Welcome to Pro! Refreshing...');\n      loadData();\n    } catch (error) {\n      toast.error('Upgrade failed');\n    }\n  };\n\n  const handleGenerate = async () => {\n    try {\n      setGenerating(true);\n      await aiService.generateInsights();\n      toast.success('New insights generated!');\n      // Short delay to allow DB propagation if needed, or just reload\n      setTimeout(loadData, 1000);\n    } catch (error) {\n      toast.error('Failed to generate insights');\n    } finally {\n      setGenerating(false);\n    }\n  };\n\n  const getIcon = (type: string) => {\n    switch (type) {\n      case 'pattern': return TrendingUp;\n      case 'suggestion': return AlertCircle;\n      case 'summary': return Calendar;\n      default: return Sparkles;\n    }\n  };\n\n  if (loading) {\n    return <div className=\"p-8 text-center\">Loading AI Coach...</div>;\n  }\n\n  const isPro = profile?.is_pro;\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <div className=\"flex items-center gap-2\">\n            <Sparkles className=\"w-6 h-6 text-secondary\" />\n            <h1 className=\"text-2xl font-bold\">AI Coach</h1>\n            <span className=\"text-[10px] font-black px-2 py-0.5 rounded-full bg-secondary/20 text-secondary animate-pulse\">\n              COMING SOON\n            </span>\n          </div>\n          <p className=\"text-muted-foreground text-sm mt-1\">Unlock intelligent insights powered by AI</p>\n        </div>\n        {isPro && (\n          <Button\n            variant=\"outline\"\n            size=\"sm\"\n            onClick={handleGenerate}\n            disabled={generating}\n            className=\"gap-2\"\n          >\n            <RefreshCw className={`w-4 h-4 ${generating ? 'animate-spin' : ''}`} />\n            {generating ? 'Analyzing...' : 'Refresh Insights'}\n          </Button>\n        )}\n      </div>\n\n      {!isPro ? (\n        <div className=\"glass-card p-8 text-center animate-fade-in\">\n          <div className=\"w-16 h-16 rounded-full bg-secondary/10 flex items-center justify-center mx-auto mb-4\">\n            <Lock className=\"w-8 h-8 text-secondary\" />\n          </div>\n          <h2 className=\"text-xl font-semibold mb-2\">Upgrade to Pro</h2>\n          <p className=\"text-muted-foreground text-sm max-w-md mx-auto mb-6\">\n            Get personalized AI insights, pattern detection, and intelligent recommendations to optimize your habits.\n          </p>\n\n          <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-3 max-w-md mx-auto mb-6 text-left\">\n            {features.map((feature, idx) => (\n              <div key={idx} className=\"flex items-center gap-2\">\n                <Check className=\"w-4 h-4 text-success shrink-0\" />\n                <span className=\"text-sm\">{feature}</span>\n              </div>\n            ))}\n          </div>\n\n          <Button\n            size=\"lg\"\n            onClick={handleUpgrade}\n            className=\"bg-secondary hover:bg-secondary/90 text-secondary-foreground gap-2\"\n          >\n            <Crown className=\"w-4 h-4\" />\n            Upgrade to Pro\n          </Button>\n          <p className=\"text-xs text-muted-foreground mt-3\">Starting at $4.99/month</p>\n        </div>\n      ) : (\n        <div className=\"space-y-4\">\n          {insights.length === 0 ? (\n            <div className=\"glass-card p-8 text-center\">\n              <p className=\"text-muted-foreground\">No insights yet. Click refresh to analyze your habits!</p>\n            </div>\n          ) : (\n            <div className=\"space-y-3 relative\">\n              {insights.map((insight, idx) => {\n                const Icon = getIcon(insight.type);\n                return (\n                  <div\n                    key={insight.id}\n                    className=\"glass-card p-4 animate-fade-in\"\n                    style={{ animationDelay: `${idx * 100}ms` }}\n                  >\n                    <div className=\"flex items-center gap-2 mb-2\">\n                      <Icon className=\"w-4 h-4 text-primary\" />\n                      <span className=\"text-sm font-medium\">{insight.title}</span>\n                      <span className=\"text-xs text-muted-foreground ml-auto\">\n                        {new Date(insight.created_at).toLocaleDateString()}\n                      </span>\n                    </div>\n                    <p className=\"text-sm text-muted-foreground\">{insight.content}</p>\n                  </div>\n                );\n              })}\n            </div>\n          )}\n        </div>\n      )}\n\n      {/* Preview Section for Non-Pro users (keep existing mock visual as preview) */}\n      {!isPro && (\n        <div>\n          <h3 className=\"text-sm font-medium text-muted-foreground mb-4\">Preview AI Insights</h3>\n          <div className=\"space-y-3 relative\">\n            <div className=\"absolute inset-0 bg-gradient-to-b from-transparent via-transparent to-background z-10 pointer-events-none\" />\n            {[\n              { icon: TrendingUp, title: 'Pattern Detected', content: 'Your workout completion drops 40% on Thursdays...' },\n              { icon: AlertCircle, title: 'Suggested Adjustment', content: 'Moving meditation from evening to morning could improve...' }\n            ].map((insight, idx) => (\n              <div key={idx} className=\"glass-card p-4 opacity-60\">\n                <div className=\"flex items-center gap-2 mb-2\">\n                  <insight.icon className=\"w-4 h-4 text-primary\" />\n                  <span className=\"text-sm font-medium\">{insight.title}</span>\n                </div>\n                <p className=\"text-sm text-muted-foreground line-clamp-2\">{insight.content}</p>\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 7250, "column": 0}, "map": {"version":3,"sources":["file:///D:/Jagdish/projects/habit-focus-main/src/components/ui/switch.tsx"],"sourcesContent":["import * as React from \"react\";\nimport * as SwitchPrimitives from \"@radix-ui/react-switch\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst Switch = React.forwardRef<\n  React.ElementRef<typeof SwitchPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof SwitchPrimitives.Root>\n>(({ className, ...props }, ref) => (\n  <SwitchPrimitives.Root\n    className={cn(\n      \"peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50\",\n      className,\n    )}\n    {...props}\n    ref={ref}\n  >\n    <SwitchPrimitives.Thumb\n      className={cn(\n        \"pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0\",\n      )}\n    />\n  </SwitchPrimitives.Root>\n));\nSwitch.displayName = SwitchPrimitives.Root.displayName;\n\nexport { Switch };\n"],"names":[],"mappings":";;;;;AAAA;AACA;AAEA;;;;;AAEA,MAAM,uBAAS,2KAAgB,MAG7B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,6KAAqB;QACpB,WAAW,IAAA,4HAAE,EACX,sXACA;QAED,GAAG,KAAK;QACT,KAAK;kBAEL,cAAA,6LAAC,8KAAsB;YACrB,WAAW,IAAA,4HAAE,EACX;;;;;;;;;;;;AAKR,OAAO,WAAW,GAAG,6KAAqB,CAAC,WAAW"}},
    {"offset": {"line": 7291, "column": 0}, "map": {"version":3,"sources":["file:///D:/Jagdish/projects/habit-focus-main/src/components/views/SettingsView.tsx"],"sourcesContent":["'use client';\n\nimport { User, Bell, Moon, Shield, HelpCircle, LogOut, ChevronRight, Crown } from 'lucide-react';\nimport { Switch } from '@/components/ui/switch';\nimport { Button } from '@/components/ui/button';\n\ninterface SettingsItem {\n  icon: any;\n  label: string;\n  sublabel?: string;\n  action: 'chevron' | 'toggle';\n  enabled?: boolean;\n}\n\ninterface SettingsSection {\n  title: string;\n  items: SettingsItem[];\n}\n\nconst settingsSections: SettingsSection[] = [\n  {\n    title: 'Account',\n    items: [\n      { icon: User, label: 'Profile', action: 'chevron' },\n      { icon: Crown, label: 'Subscription', sublabel: 'Free Plan', action: 'chevron' },\n    ],\n  },\n  {\n    title: 'Preferences',\n    items: [\n      { icon: Bell, label: 'Notifications', action: 'toggle', enabled: true },\n      { icon: Moon, label: 'Dark Mode', action: 'toggle', enabled: true },\n    ],\n  },\n  {\n    title: 'Support',\n    items: [\n      { icon: Shield, label: 'Privacy Policy', action: 'chevron' },\n      { icon: HelpCircle, label: 'Help Center', action: 'chevron' },\n    ],\n  },\n];\n\nexport const SettingsView = () => {\n  return (\n    <div className=\"space-y-6\">\n      <div>\n        <h1 className=\"text-2xl font-bold mb-1\">Settings</h1>\n        <p className=\"text-muted-foreground text-sm\">Manage your account and preferences</p>\n      </div>\n\n      <div className=\"glass-card p-4 flex items-center gap-4 animate-fade-in\">\n        <div className=\"w-14 h-14 rounded-full bg-primary/10 flex items-center justify-center\">\n          <User className=\"w-6 h-6 text-primary\" />\n        </div>\n        <div className=\"flex-1\">\n          <h3 className=\"font-medium\">Guest User</h3>\n          <p className=\"text-sm text-muted-foreground\">Sign in to sync your data</p>\n        </div>\n        <Button variant=\"outline\" size=\"sm\">\n          Sign In\n        </Button>\n      </div>\n\n      {settingsSections.map((section, sectionIdx) => (\n        <div\n          key={section.title}\n          className=\"animate-fade-in\"\n          style={{ animationDelay: `${(sectionIdx + 1) * 50}ms` }}\n        >\n          <h3 className=\"text-sm font-medium text-muted-foreground mb-2 px-1\">{section.title}</h3>\n          <div className=\"glass-card divide-y divide-border/50\">\n            {section.items.map((item) => (\n              <div\n                key={item.label}\n                className=\"flex items-center justify-between p-4 hover:bg-accent/30 transition-colors cursor-pointer\"\n              >\n                <div className=\"flex items-center gap-3\">\n                  <item.icon className=\"w-5 h-5 text-muted-foreground\" />\n                  <div>\n                    <span className=\"text-sm font-medium\">{item.label}</span>\n                    {item.sublabel && (\n                      <p className=\"text-xs text-muted-foreground\">{item.sublabel}</p>\n                    )}\n                  </div>\n                </div>\n                {item.action === 'toggle' ? (\n                  <Switch defaultChecked={item.enabled} />\n                ) : (\n                  <ChevronRight className=\"w-4 h-4 text-muted-foreground\" />\n                )}\n              </div>\n            ))}\n          </div>\n        </div>\n      ))}\n\n      <Button variant=\"ghost\" className=\"w-full justify-start gap-3 text-destructive hover:text-destructive hover:bg-destructive/10\">\n        <LogOut className=\"w-5 h-5\" />\n        Sign Out\n      </Button>\n\n      <p className=\"text-xs text-muted-foreground text-center pt-4\">\n        Momentum v1.0.0\n      </p>\n    </div>\n  );\n};\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAJA;;;;;AAmBA,MAAM,mBAAsC;IAC1C;QACE,OAAO;QACP,OAAO;YACL;gBAAE,MAAM,6MAAI;gBAAE,OAAO;gBAAW,QAAQ;YAAU;YAClD;gBAAE,MAAM,gNAAK;gBAAE,OAAO;gBAAgB,UAAU;gBAAa,QAAQ;YAAU;SAChF;IACH;IACA;QACE,OAAO;QACP,OAAO;YACL;gBAAE,MAAM,6MAAI;gBAAE,OAAO;gBAAiB,QAAQ;gBAAU,SAAS;YAAK;YACtE;gBAAE,MAAM,6MAAI;gBAAE,OAAO;gBAAa,QAAQ;gBAAU,SAAS;YAAK;SACnE;IACH;IACA;QACE,OAAO;QACP,OAAO;YACL;gBAAE,MAAM,mNAAM;gBAAE,OAAO;gBAAkB,QAAQ;YAAU;YAC3D;gBAAE,MAAM,mOAAU;gBAAE,OAAO;gBAAe,QAAQ;YAAU;SAC7D;IACH;CACD;AAEM,MAAM,eAAe;IAC1B,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;;kCACC,6LAAC;wBAAG,WAAU;kCAA0B;;;;;;kCACxC,6LAAC;wBAAE,WAAU;kCAAgC;;;;;;;;;;;;0BAG/C,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAI,WAAU;kCACb,cAAA,6LAAC,6MAAI;4BAAC,WAAU;;;;;;;;;;;kCAElB,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAG,WAAU;0CAAc;;;;;;0CAC5B,6LAAC;gCAAE,WAAU;0CAAgC;;;;;;;;;;;;kCAE/C,6LAAC,+IAAM;wBAAC,SAAQ;wBAAU,MAAK;kCAAK;;;;;;;;;;;;YAKrC,iBAAiB,GAAG,CAAC,CAAC,SAAS,2BAC9B,6LAAC;oBAEC,WAAU;oBACV,OAAO;wBAAE,gBAAgB,GAAG,CAAC,aAAa,CAAC,IAAI,GAAG,EAAE,CAAC;oBAAC;;sCAEtD,6LAAC;4BAAG,WAAU;sCAAuD,QAAQ,KAAK;;;;;;sCAClF,6LAAC;4BAAI,WAAU;sCACZ,QAAQ,KAAK,CAAC,GAAG,CAAC,CAAC,qBAClB,6LAAC;oCAEC,WAAU;;sDAEV,6LAAC;4CAAI,WAAU;;8DACb,6LAAC,KAAK,IAAI;oDAAC,WAAU;;;;;;8DACrB,6LAAC;;sEACC,6LAAC;4DAAK,WAAU;sEAAuB,KAAK,KAAK;;;;;;wDAChD,KAAK,QAAQ,kBACZ,6LAAC;4DAAE,WAAU;sEAAiC,KAAK,QAAQ;;;;;;;;;;;;;;;;;;wCAIhE,KAAK,MAAM,KAAK,yBACf,6LAAC,+IAAM;4CAAC,gBAAgB,KAAK,OAAO;;;;;qGAEpC,6LAAC,yOAAY;4CAAC,WAAU;;;;;;;mCAfrB,KAAK,KAAK;;;;;;;;;;;mBARhB,QAAQ,KAAK;;;;;0BA+BtB,6LAAC,+IAAM;gBAAC,SAAQ;gBAAQ,WAAU;;kCAChC,6LAAC,uNAAM;wBAAC,WAAU;;;;;;oBAAY;;;;;;;0BAIhC,6LAAC;gBAAE,WAAU;0BAAiD;;;;;;;;;;;;AAKpE;KAhEa"}},
    {"offset": {"line": 7578, "column": 0}, "map": {"version":3,"sources":["file:///D:/Jagdish/projects/habit-focus-main/src/components/auth/AuthOverlay.tsx"],"sourcesContent":["\r\n'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { supabase } from '@/lib/supabase';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Input } from '@/components/ui/input';\r\nimport { Label } from '@/components/ui/label';\r\nimport { toast } from 'sonner';\r\nimport { Lock, Mail, Loader2, ArrowRight } from 'lucide-react';\r\n\r\nexport const AuthOverlay = () => {\r\n    const [loading, setLoading] = useState(false);\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [isSignUp, setIsSignUp] = useState(false);\r\n    const [session, setSession] = useState<any>(null);\r\n\r\n    useEffect(() => {\r\n        supabase.auth.getSession().then(({ data: { session } }) => {\r\n            setSession(session);\r\n        });\r\n\r\n        const {\r\n            data: { subscription },\r\n        } = supabase.auth.onAuthStateChange((_event, session) => {\r\n            setSession(session);\r\n        });\r\n\r\n        return () => subscription.unsubscribe();\r\n    }, []);\r\n\r\n    const handleAuth = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        setLoading(true);\r\n        try {\r\n            if (isSignUp) {\r\n                const { error } = await supabase.auth.signUp({\r\n                    email,\r\n                    password,\r\n                });\r\n                if (error) throw error;\r\n                toast.success('Check your email to confirm your account!');\r\n            } else {\r\n                const { error } = await supabase.auth.signInWithPassword({\r\n                    email,\r\n                    password,\r\n                });\r\n                if (error) throw error;\r\n                toast.success('Signed in successfully');\r\n            }\r\n        } catch (error: any) {\r\n            toast.error(error.message);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleGoogleLogin = async () => {\r\n        setLoading(true);\r\n        try {\r\n            const { error } = await supabase.auth.signInWithOAuth({\r\n                provider: 'google',\r\n                options: {\r\n                    redirectTo: window.location.origin,\r\n                }\r\n            });\r\n            if (error) throw error;\r\n        } catch (error: any) {\r\n            toast.error(error.message);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleGuestLogin = async () => {\r\n        setLoading(true);\r\n        try {\r\n            // Attempt anonymous sign in first if enabled\r\n            const { data, error } = await supabase.auth.signInAnonymously();\r\n\r\n            if (error) {\r\n                // If anon is disabled, fallback to a dummy demo account or throw\r\n                console.warn(\"Anonymous login failed (likely disabled), suggesting signup.\");\r\n                toast.info(\"Guest mode unavailable. Please sign up.\");\r\n            } else {\r\n                toast.success(\"Welcome, Guest!\");\r\n            }\r\n        } catch (e: any) {\r\n            toast.error(e.message || \"Guest login failed\");\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    }\r\n\r\n    if (session) return null;\r\n\r\n    return (\r\n        <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-background/80 backdrop-blur-sm p-4\">\r\n            <div className=\"w-full max-w-md space-y-8 glass-card p-8 animate-slide-up\">\r\n                <div className=\"text-center\">\r\n                    <div className=\"mx-auto w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center mb-4\">\r\n                        <Lock className=\"w-6 h-6 text-primary\" />\r\n                    </div>\r\n                    <h2 className=\"text-2xl font-bold tracking-tight\">Welcome to Habit Focus</h2>\r\n                    <p className=\"text-sm text-muted-foreground mt-2\">\r\n                        Sign in to sync your habits and AI insights across devices.\r\n                    </p>\r\n                </div>\r\n\r\n                <form onSubmit={handleAuth} className=\"space-y-4\">\r\n                    <div className=\"space-y-2\">\r\n                        <Label htmlFor=\"email\">Email</Label>\r\n                        <div className=\"relative\">\r\n                            <Mail className=\"absolute left-3 top-3 h-4 w-4 text-muted-foreground\" />\r\n                            <Input\r\n                                id=\"email\"\r\n                                type=\"email\"\r\n                                placeholder=\"hello@example.com\"\r\n                                className=\"pl-9\"\r\n                                value={email}\r\n                                onChange={(e) => setEmail(e.target.value)}\r\n                                required\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"space-y-2\">\r\n                        <Label htmlFor=\"password\">Password</Label>\r\n                        <Input\r\n                            id=\"password\"\r\n                            type=\"password\"\r\n                            placeholder=\"\"\r\n                            value={password}\r\n                            onChange={(e) => setPassword(e.target.value)}\r\n                            required\r\n                            minLength={6}\r\n                        />\r\n                    </div>\r\n\r\n                    <Button type=\"submit\" className=\"w-full\" disabled={loading}>\r\n                        {loading ? (\r\n                            <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\r\n                        ) : (\r\n                            <ArrowRight className=\"w-4 h-4 mr-2\" />\r\n                        )}\r\n                        {isSignUp ? 'Create Account' : 'Sign In'}\r\n                    </Button>\r\n                </form>\r\n\r\n                <div className=\"space-y-4 text-center\">\r\n                    <button\r\n                        type=\"button\"\r\n                        className=\"text-sm text-primary hover:underline hover:text-primary/80\"\r\n                        onClick={() => setIsSignUp(!isSignUp)}\r\n                    >\r\n                        {isSignUp\r\n                            ? 'Already have an account? Sign In'\r\n                            : \"Don't have an account? Sign Up\"}\r\n                    </button>\r\n\r\n                    <div className=\"relative\">\r\n                        <div className=\"absolute inset-0 flex items-center\">\r\n                            <span className=\"w-full border-t border-border\" />\r\n                        </div>\r\n                        <div className=\"relative flex justify-center text-xs uppercase\">\r\n                            <span className=\"bg-background px-2 text-muted-foreground\">Or continue with</span>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"flex flex-col space-y-2\">\r\n                        <Button variant=\"outline\" className=\"w-full\" onClick={handleGoogleLogin} disabled={loading}>\r\n                            <svg className=\"w-5 h-5 mr-2\" aria-hidden=\"true\" focusable=\"false\" data-prefix=\"fab\" data-icon=\"google\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 488 512\">\r\n                                <path fill=\"currentColor\" d=\"M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z\"></path>\r\n                            </svg>\r\n                            Google\r\n                        </Button>\r\n                        <Button variant=\"outline\" className=\"w-full\" onClick={handleGuestLogin} disabled={loading}>\r\n                            Guest Access (Anonymous)\r\n                        </Button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 7977, "column": 0}, "map": {"version":3,"sources":["file:///D:/Jagdish/projects/habit-focus-main/src/components/effects/Snowfall.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useEffect, useState } from 'react';\r\n\r\nexport const Snowfall = () => {\r\n    const [snowflakes, setSnowflakes] = useState<{ id: number; left: string; delay: string; duration: string; size: string; opacity: number }[]>([]);\r\n\r\n    useEffect(() => {\r\n        const count = 50;\r\n        const flakes = Array.from({ length: count }).map((_, i) => ({\r\n            id: i,\r\n            left: `${Math.random() * 100}%`,\r\n            delay: `${Math.random() * 10}s`,\r\n            duration: `${10 + Math.random() * 20}s`,\r\n            size: `${2 + Math.random() * 4}px`,\r\n            opacity: 0.2 + Math.random() * 0.5,\r\n        }));\r\n        setSnowflakes(flakes);\r\n    }, []);\r\n\r\n    return (\r\n        <div className=\"fixed inset-0 pointer-events-none z-0 overflow-hidden\">\r\n            {snowflakes.map((flake) => (\r\n                <div\r\n                    key={flake.id}\r\n                    className=\"absolute top-[-10px] bg-white rounded-full animate-snowfall\"\r\n                    style={{\r\n                        left: flake.left,\r\n                        width: flake.size,\r\n                        height: flake.size,\r\n                        opacity: flake.opacity,\r\n                        animationDuration: flake.duration,\r\n                        animationDelay: flake.delay,\r\n                        filter: 'blur(1px)',\r\n                    }}\r\n                />\r\n            ))}\r\n            <style>{`\r\n        @keyframes snowfall {\r\n          0% {\r\n            transform: translateY(0) translateX(0);\r\n          }\r\n          25% {\r\n            transform: translateY(25vh) translateX(15px);\r\n          }\r\n          50% {\r\n            transform: translateY(50vh) translateX(-15px);\r\n          }\r\n          75% {\r\n            transform: translateY(75vh) translateX(15px);\r\n          }\r\n          100% {\r\n            transform: translateY(100vh) translateX(0);\r\n          }\r\n        }\r\n        .animate-snowfall {\r\n          animation-name: snowfall;\r\n          animation-iteration-count: infinite;\r\n          animation-timing-function: linear;\r\n        }\r\n      `}</style>\r\n        </div>\r\n    );\r\n};\r\n"],"names":[],"mappings":";;;;;AAEA;;;AAFA;;AAIO,MAAM,WAAW;;IACpB,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,yKAAQ,EAAiG,EAAE;IAE/I,IAAA,0KAAS;8BAAC;YACN,MAAM,QAAQ;YACd,MAAM,SAAS,MAAM,IAAI,CAAC;gBAAE,QAAQ;YAAM,GAAG,GAAG;6CAAC,CAAC,GAAG,IAAM,CAAC;wBACxD,IAAI;wBACJ,MAAM,GAAG,KAAK,MAAM,KAAK,IAAI,CAAC,CAAC;wBAC/B,OAAO,GAAG,KAAK,MAAM,KAAK,GAAG,CAAC,CAAC;wBAC/B,UAAU,GAAG,KAAK,KAAK,MAAM,KAAK,GAAG,CAAC,CAAC;wBACvC,MAAM,GAAG,IAAI,KAAK,MAAM,KAAK,EAAE,EAAE,CAAC;wBAClC,SAAS,MAAM,KAAK,MAAM,KAAK;oBACnC,CAAC;;YACD,cAAc;QAClB;6BAAG,EAAE;IAEL,qBACI,6LAAC;QAAI,WAAU;;YACV,WAAW,GAAG,CAAC,CAAC,sBACb,6LAAC;oBAEG,WAAU;oBACV,OAAO;wBACH,MAAM,MAAM,IAAI;wBAChB,OAAO,MAAM,IAAI;wBACjB,QAAQ,MAAM,IAAI;wBAClB,SAAS,MAAM,OAAO;wBACtB,mBAAmB,MAAM,QAAQ;wBACjC,gBAAgB,MAAM,KAAK;wBAC3B,QAAQ;oBACZ;mBAVK,MAAM,EAAE;;;;;0BAarB,6LAAC;0BAAO,CAAC;;;;;;;;;;;;;;;;;;;;;;;MAuBf,CAAC;;;;;;;;;;;;AAGP;GA3Da;KAAA"}},
    {"offset": {"line": 8075, "column": 0}, "map": {"version":3,"sources":["file:///D:/Jagdish/projects/habit-focus-main/src/pages/Index.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect, useRef } from 'react';\r\nimport { TopBar } from '@/components/layout/TopBar';\r\nimport { Sidebar } from '@/components/layout/Sidebar';\r\nimport { BottomNav } from '@/components/layout/BottomNav';\r\nimport { DashboardView } from '@/components/views/DashboardView';\r\nimport { HabitsView } from '@/components/views/HabitsView';\r\nimport { AnalyticsView } from '@/components/views/AnalyticsView';\r\nimport { AICoachView } from '@/components/views/AICoachView';\r\nimport { SettingsView } from '@/components/views/SettingsView';\r\nimport { AuthOverlay } from '@/components/auth/AuthOverlay';\r\nimport { Snowfall } from '@/components/effects/Snowfall';\r\nimport { supabase } from '@/lib/supabase';\r\nimport { toast } from 'sonner';\r\n\r\nconst Index = () => {\r\n  const [activeTab, setActiveTab] = useState('dashboard');\r\n  const [currentMonth, setCurrentMonth] = useState(() => {\r\n    const now = new Date();\r\n    return new Date(now.getFullYear(), now.getMonth(), 1);\r\n  });\r\n  const [userCreatedAt, setUserCreatedAt] = useState<Date | null>(null);\r\n  const videoRef = useRef<HTMLVideoElement>(null);\r\n\r\n  useEffect(() => {\r\n    supabase.auth.getUser().then(({ data: { user } }) => {\r\n      if (user?.created_at) {\r\n        setUserCreatedAt(new Date(user.created_at));\r\n      }\r\n    });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (videoRef.current) {\r\n      videoRef.current.playbackRate = 0.35;\r\n    }\r\n  }, []);\r\n\r\n  const today = new Date();\r\n\r\n  // Navigation Bounds\r\n  const minDate = userCreatedAt ? new Date(userCreatedAt.getFullYear(), userCreatedAt.getMonth(), 1) : new Date(2000, 0, 1);\r\n  const maxDate = new Date(today.getFullYear(), today.getMonth() + 1, 1); // Allow up to next month\r\n\r\n  const canPrev = currentMonth > minDate;\r\n  const canNext = currentMonth < maxDate;\r\n\r\n  const handlePrevMonth = () => {\r\n    if (!canPrev) {\r\n      toast.error(\"Cannot view history before account creation\");\r\n      return;\r\n    }\r\n    setCurrentMonth(new Date(currentMonth.getFullYear(), currentMonth.getMonth() - 1, 1));\r\n  };\r\n\r\n  const handleNextMonth = () => {\r\n    if (!canNext) return;\r\n    setCurrentMonth(new Date(currentMonth.getFullYear(), currentMonth.getMonth() + 1, 1));\r\n  };\r\n\r\n  const renderView = () => {\r\n    switch (activeTab) {\r\n      case 'dashboard':\r\n        return <DashboardView currentMonth={currentMonth} userCreatedAt={userCreatedAt} />;\r\n      case 'habits':\r\n        return <HabitsView />;\r\n      case 'analytics':\r\n        // Pass userCreatedAt to AnalyticsView to filter charts\r\n        return <AnalyticsView userCreatedAt={userCreatedAt} />;\r\n      case 'ai-coach':\r\n        return <AICoachView />;\r\n      case 'settings':\r\n        return <SettingsView />;\r\n      default:\r\n        return <DashboardView currentMonth={currentMonth} userCreatedAt={userCreatedAt} />;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-transparent overflow-x-hidden relative\">\r\n      {/* Background Video with Watermark Hiding */}\r\n      <div className=\"fixed inset-0 -z-10 overflow-hidden pointer-events-none\">\r\n        <video\r\n          ref={videoRef}\r\n          autoPlay\r\n          loop\r\n          muted\r\n          playsInline\r\n          className=\"absolute min-w-full min-h-full object-cover scale-[1.35] translate-x-8 -translate-y-8 opacity-40 mix-blend-screen\"\r\n        >\r\n          <source src=\"/bg-video.mp4\" type=\"video/mp4\" />\r\n        </video>\r\n        <div className=\"absolute inset-0 bg-background/40 backdrop-blur-[1px]\" />\r\n      </div>\r\n\r\n      <Snowfall />\r\n      <AuthOverlay />\r\n      <TopBar\r\n        currentMonth={currentMonth}\r\n        onPrevMonth={handlePrevMonth}\r\n        onNextMonth={handleNextMonth}\r\n        canPrev={canPrev}\r\n        canNext={canNext}\r\n      />\r\n\r\n      <div className=\"flex pt-20\">\r\n        <Sidebar activeTab={activeTab} onTabChange={setActiveTab} />\r\n\r\n        <main className=\"flex-1 px-3 py-4 lg:p-6 pb-24 lg:pb-6 max-w-7xl w-full overflow-x-hidden\">\r\n          {renderView()}\r\n        </main>\r\n      </div>\r\n\r\n      <BottomNav activeTab={activeTab} onTabChange={setActiveTab} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Index;\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAdA;;;;;;;;;;;;;;AAgBA,MAAM,QAAQ;;IACZ,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ,EAAC;IAC3C,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,yKAAQ;0BAAC;YAC/C,MAAM,MAAM,IAAI;YAChB,OAAO,IAAI,KAAK,IAAI,WAAW,IAAI,IAAI,QAAQ,IAAI;QACrD;;IACA,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,yKAAQ,EAAc;IAChE,MAAM,WAAW,IAAA,uKAAM,EAAmB;IAE1C,IAAA,0KAAS;2BAAC;YACR,qIAAQ,CAAC,IAAI,CAAC,OAAO,GAAG,IAAI;mCAAC,CAAC,EAAE,MAAM,EAAE,IAAI,EAAE,EAAE;oBAC9C,IAAI,MAAM,YAAY;wBACpB,iBAAiB,IAAI,KAAK,KAAK,UAAU;oBAC3C;gBACF;;QACF;0BAAG,EAAE;IAEL,IAAA,0KAAS;2BAAC;YACR,IAAI,SAAS,OAAO,EAAE;gBACpB,SAAS,OAAO,CAAC,YAAY,GAAG;YAClC;QACF;0BAAG,EAAE;IAEL,MAAM,QAAQ,IAAI;IAElB,oBAAoB;IACpB,MAAM,UAAU,gBAAgB,IAAI,KAAK,cAAc,WAAW,IAAI,cAAc,QAAQ,IAAI,KAAK,IAAI,KAAK,MAAM,GAAG;IACvH,MAAM,UAAU,IAAI,KAAK,MAAM,WAAW,IAAI,MAAM,QAAQ,KAAK,GAAG,IAAI,yBAAyB;IAEjG,MAAM,UAAU,eAAe;IAC/B,MAAM,UAAU,eAAe;IAE/B,MAAM,kBAAkB;QACtB,IAAI,CAAC,SAAS;YACZ,oJAAK,CAAC,KAAK,CAAC;YACZ;QACF;QACA,gBAAgB,IAAI,KAAK,aAAa,WAAW,IAAI,aAAa,QAAQ,KAAK,GAAG;IACpF;IAEA,MAAM,kBAAkB;QACtB,IAAI,CAAC,SAAS;QACd,gBAAgB,IAAI,KAAK,aAAa,WAAW,IAAI,aAAa,QAAQ,KAAK,GAAG;IACpF;IAEA,MAAM,aAAa;QACjB,OAAQ;YACN,KAAK;gBACH,qBAAO,6LAAC,gKAAa;oBAAC,cAAc;oBAAc,eAAe;;;;;;YACnE,KAAK;gBACH,qBAAO,6LAAC,0JAAU;;;;;YACpB,KAAK;gBACH,uDAAuD;gBACvD,qBAAO,6LAAC,gKAAa;oBAAC,eAAe;;;;;;YACvC,KAAK;gBACH,qBAAO,6LAAC,4JAAW;;;;;YACrB,KAAK;gBACH,qBAAO,6LAAC,8JAAY;;;;;YACtB;gBACE,qBAAO,6LAAC,gKAAa;oBAAC,cAAc;oBAAc,eAAe;;;;;;QACrE;IACF;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BAEb,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBACC,KAAK;wBACL,QAAQ;wBACR,IAAI;wBACJ,KAAK;wBACL,WAAW;wBACX,WAAU;kCAEV,cAAA,6LAAC;4BAAO,KAAI;4BAAgB,MAAK;;;;;;;;;;;kCAEnC,6LAAC;wBAAI,WAAU;;;;;;;;;;;;0BAGjB,6LAAC,wJAAQ;;;;;0BACT,6LAAC,2JAAW;;;;;0BACZ,6LAAC,mJAAM;gBACL,cAAc;gBACd,aAAa;gBACb,aAAa;gBACb,SAAS;gBACT,SAAS;;;;;;0BAGX,6LAAC;gBAAI,WAAU;;kCACb,6LAAC,qJAAO;wBAAC,WAAW;wBAAW,aAAa;;;;;;kCAE5C,6LAAC;wBAAK,WAAU;kCACb;;;;;;;;;;;;0BAIL,6LAAC,yJAAS;gBAAC,WAAW;gBAAW,aAAa;;;;;;;;;;;;AAGpD;GArGM;KAAA;uCAuGS"}}]
}